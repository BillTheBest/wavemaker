(function(){if(window.requireace)requireace.packaged=!0;else{var e=function(c,j,f){if(typeof c!=="string")e.original?e.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace());else{arguments.length==2&&(f=j);if(!defineace.modules)defineace.modules={};defineace.modules[c]=f}};if(window.defineace)e.original=window.defineace;window.defineace=e;var d=function(c,j){if(Object.prototype.toString.call(c)==="[object Array]"){for(var f=[],b=0,a=c.length;b<
a;++b){var k=h(c[b]);if(!k&&d.original)return d.original.apply(window,arguments);f.push(k)}j&&j.apply(null,f)}else if(typeof c==="string"){f=h(c);if(!f&&d.original)return d.original.apply(window,arguments);j&&j();return f}else if(d.original)return d.original.apply(window,arguments)};if(window.requireace)d.original=window.requireace;window.requireace=d;requireace.packaged=!0;var h=function(c){var j=defineace.modules[c];if(j==null)return console.error("Missing module: "+c),null;if(typeof j==="function"){var f=
{};j(requireace,f,{id:c,uri:""});return defineace.modules[c]=f}return j}}})();
defineace("pilot/fixoldbrowsers",["requireace","exports","module"],function(){if(!Function.prototype.bind){var e=Array.prototype.slice;Function.prototype.bind=function(){var g=this;if(typeof g.apply!=="function"||typeof g.call!=="function")return new TypeError;var a=e.call(arguments),l=function r(){if(this instanceof r){var l=Object.create(g.prototype);g.apply(l,a.concat(e.call(arguments)));return l}else return g.call.apply(g,a.concat(e.call(arguments)))};l.length=typeof g==="function"?Math.max(g.length-
a.length,0):0;return l}}var d=Function.prototype.call,h=Object.prototype,c=d.bind(h.hasOwnProperty),j,f,b,a,k;if(k=c(h,"__defineGetter__"))j=d.bind(h.__defineGetter__),f=d.bind(h.__defineSetter__),b=d.bind(h.__lookupGetter__),a=d.bind(h.__lookupSetter__);if(!Array.isArray)Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"};if(!Array.prototype.forEach)Array.prototype.forEach=function(g,a){for(var l=+this.length,b=0;b<l;b++)b in this&&g.call(a,this[b],b,this)};if(!Array.prototype.map)Array.prototype.map=
function(g,a){var l=+this.length;if(typeof g!=="function")throw new TypeError;for(var b=Array(l),m=0;m<l;m++)m in this&&(b[m]=g.call(a,this[m],m,this));return b};if(!Array.prototype.filter)Array.prototype.filter=function(g,a){for(var l=[],b=0;b<this.length;b++)g.call(a,this[b])&&l.push(this[b]);return l};if(!Array.prototype.every)Array.prototype.every=function(g,a){for(var l=0;l<this.length;l++)if(!g.call(a,this[l]))return!1;return!0};if(!Array.prototype.some)Array.prototype.some=function(g,a){for(var l=
0;l<this.length;l++)if(g.call(a,this[l]))return!0;return!1};if(!Array.prototype.reduce)Array.prototype.reduce=function(g){var a=+this.length;if(typeof g!=="function")throw new TypeError;if(a===0&&arguments.length===1)throw new TypeError;var l=0;if(arguments.length>=2)var b=arguments[1];else{do{if(l in this){b=this[l++];break}if(++l>=a)throw new TypeError;}while(1)}for(;l<a;l++)l in this&&(b=g.call(null,b,this[l],l,this));return b};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=function(g){var a=
+this.length;if(typeof g!=="function")throw new TypeError;if(a===0&&arguments.length===1)throw new TypeError;a-=1;if(arguments.length>=2)var l=arguments[1];else{do{if(a in this){l=this[a--];break}if(--a<0)throw new TypeError;}while(1)}for(;a>=0;a--)a in this&&(l=g.call(null,l,this[a],a,this));return l};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(g,a){var l=this.length;if(!l)return-1;var b=a||0;if(b>=l)return-1;for(b<0&&(b+=l);b<l;b++)if(c(this,b)&&g===this[b])return b;return-1};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=
function(g,a){var l=this.length;if(!l)return-1;var b=a||l;b<0&&(b+=l);for(b=Math.min(b,l-1);b>=0;b--)if(c(this,b)&&g===this[b])return b;return-1};if(!Object.getPrototypeOf)Object.getPrototypeOf=function(g){return g.__proto__||g.constructor.prototype};if(!Object.getOwnPropertyDescriptor)Object.getOwnPropertyDescriptor=function(g,l){if(typeof g!=="object"&&typeof g!=="function"||g===null)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+g);if(c(g,l)){var m,n;if(k){var f=
g.__proto__;g.__proto__=h;m=b(g,l);n=a(g,l);g.__proto__=f;if(m||n){if(m)descriptor.get=m;if(n)descriptor.set=n;return descriptor}}descriptor.value=g[l];return descriptor}};if(!Object.getOwnPropertyNames)Object.getOwnPropertyNames=function(g){return Object.keys(g)};if(!Object.create)Object.create=function(g,a){var l;if(g===null)l={__proto__:null};else{if(typeof g!=="object")throw new TypeError("typeof prototype["+typeof g+"] != 'object'");l=function(){};l.prototype=g;l=new l;l.__proto__=g}typeof a!==
"undefined"&&Object.defineProperties(l,a);return l};if(!Object.defineProperty)Object.defineProperty=function(g,l,m){if(typeof g!=="object"&&typeof g!=="function")throw new TypeError("Object.defineProperty called on non-object: "+g);if(typeof g!=="object"||g===null)throw new TypeError("Property description must be an object: "+m);if(c(m,"value")){if(k&&(b(g,l)||a(g,l)))g.__proto__=h,delete g[l];g[l]=m.value}else{if(!k)throw new TypeError("getters & setters can not be defined on this javascript engine");
c(m,"get")&&j(g,l,m.get);c(m,"set")&&f(g,l,m.set)}return g};if(!Object.defineProperties)Object.defineProperties=function(g,a){for(var l in a)c(a,l)&&Object.defineProperty(g,l,a[l]);return g};if(!Object.seal)Object.seal=function(g){return g};if(!Object.freeze)Object.freeze=function(g){return g};try{Object.freeze(function(){})}catch(n){Object.freeze=function(g){return function(a){return typeof a==="function"?a:g(a)}}(Object.freeze)}if(!Object.preventExtensions)Object.preventExtensions=function(g){return g};
if(!Object.isSealed)Object.isSealed=function(){return!1};if(!Object.isFrozen)Object.isFrozen=function(){return!1};if(!Object.isExtensible)Object.isExtensible=function(){return!0};if(!Object.keys){var p=!0,q=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=q.length,g;for(g in{toString:null})p=!1;Object.keys=function o(g){if(typeof g!=="object"&&typeof g!=="function"||g===null)throw new TypeError("Object.keys called on a non-object");var o=
[],a;for(a in g)c(g,a)&&o.push(a);if(p)for(a=0;a<l;a++){var b=q[a];c(g,b)&&o.push(b)}return o}}if(!Date.prototype.toISOString)Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1)+"-"+this.getUTCDate()+"T"+this.getUTCHours()+":"+this.getUTCMinutes()+":"+this.getUTCSeconds()+"Z"};if(!Date.now)Date.now=function(){return(new Date).getTime()};if(!Date.prototype.toJSON)Date.prototype.toJSON=function(){if(typeof this.toISOString!=="function")throw new TypeError;return this.toISOString()};
isNaN(Date.parse("T00:00"))&&(Date=function(g){var a=function(l,b,m,c,k,n,f){var j=arguments.length;if(this instanceof g)return j=j===1&&String(l)===l?new g(a.parse(l)):j>=7?new g(l,b,m,c,k,n,f):j>=6?new g(l,b,m,c,k,n):j>=5?new g(l,b,m,c,k):j>=4?new g(l,b,m,c):j>=3?new g(l,b,m):j>=2?new g(l,b):j>=1?new g(l):new g,j.constructor=a,j;return g.apply(this,arguments)},l=RegExp("^(?:((?:[+-]\\d\\d)?\\d\\d\\d\\d)(?:-(\\d\\d)(?:-(\\d\\d))?)?)?(?:T(\\d\\d):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?)?(?:Z|([+-])(\\d\\d):(\\d\\d))?$"),
b;for(b in g)a[b]=g[b];a.now=g.now;a.UTC=g.UTC;a.prototype=g.prototype;a.prototype.constructor=a;a.parse=function(a){var b=l.exec(a);if(b){b.shift();for(var m=b[0]===void 0,c=0;c<10;c++)c!==7&&(b[c]=+(b[c]||(c<3?1:0)),c===1&&b[c]--);if(m)return((b[3]*60+b[4])*60+b[5])*1E3+b[6];m=(b[8]*60+b[9])*6E4;b[6]==="-"&&(m=-m);return g.UTC.apply(this,b.slice(0,7))+m}return g.parse.apply(this,arguments)};return a}(Date));if(!String.prototype.trim){var m=/^\s\s*/,t=/\s\s*$/;String.prototype.trim=function(){return String(this).replace(m,
"").replace(t,"")}}});
defineace("pilot/index",["requireace","exports","module","pilot/fixoldbrowsers","pilot/types/basic","pilot/types/command","pilot/types/settings","pilot/commands/settings","pilot/commands/basic","pilot/settings/canon","pilot/canon"],function(e,d){d.startup=function(d,c){e("pilot/fixoldbrowsers");e("pilot/types/basic").startup(d,c);e("pilot/types/command").startup(d,c);e("pilot/types/settings").startup(d,c);e("pilot/commands/settings").startup(d,c);e("pilot/commands/basic").startup(d,c);e("pilot/settings/canon").startup(d,
c);e("pilot/canon").startup(d,c)};d.shutdown=function(d,c){e("pilot/types/basic").shutdown(d,c);e("pilot/types/command").shutdown(d,c);e("pilot/types/settings").shutdown(d,c);e("pilot/commands/settings").shutdown(d,c);e("pilot/commands/basic").shutdown(d,c);e("pilot/settings/canon").shutdown(d,c);e("pilot/canon").shutdown(d,c)}});
defineace("pilot/types/basic",["requireace","exports","module","pilot/types"],function(e,d){function h(g){if(!Array.isArray(g.data)&&typeof g.data!=="function")throw Error("instances of SelectionType need typeSpec.data to be an array or function that returns an array:"+JSON.stringify(g));Object.keys(g).forEach(function(a){this[a]=g[a]},this)}function c(g){if(typeof g.defer!=="function")throw Error("Instances of DeferredType need typeSpec.defer to be a function that returns a type");Object.keys(g).forEach(function(a){this[a]=
g[a]},this)}function j(g){if(g instanceof b)this.subtype=g;else if(typeof g==="string"){if(this.subtype=f.getType(g),this.subtype==null)throw Error("Unknown array subtype: "+g);}else throw Error("Can' handle array subtype");}var f=e("pilot/types"),b=f.Type,a=f.Conversion,k=f.Status,n=new b;n.stringify=function(g){return g};n.parse=function(g){if(typeof g!="string")throw Error("non-string passed to text.parse()");return new a(g)};n.name="text";var p=new b;p.stringify=function(g){if(!g)return null;
return""+g};p.parse=function(g){if(typeof g!="string")throw Error("non-string passed to number.parse()");if(g.replace(/\s/g,"").length===0)return new a(null,k.INCOMPLETE,"");var l=new a(parseInt(g,10));if(isNaN(l.value))l.status=k.INVALID,l.message="Can't convert \""+g+'" to a number.';return l};p.decrement=function(g){return g-1};p.increment=function(g){return g+1};p.name="number";h.prototype=new b;h.prototype.stringify=function(g){return g};h.prototype.parse=function(g){if(typeof g!="string")throw Error("non-string passed to parse()");
if(!this.data)throw Error("Missing data on selection type extension.");var l=!1,b,c=[];(typeof this.data==="function"?this.data():this.data).forEach(function(a){g==a?(b=this.fromString(a),l=!0):a.indexOf(g)===0&&c.push(this.fromString(a))},this);if(l)return new a(b);else if(this.noMatch&&this.noMatch(),c.length>0){var n="Possibilities"+(g.length===0?"":" for '"+g+"'");return new a(null,k.INCOMPLETE,n,c)}else return new a(null,k.INVALID,"Can't use '"+g+"'.",c)};h.prototype.fromString=function(g){return g};
h.prototype.decrement=function(g){var a=typeof this.data==="function"?this.data():this.data;g==null?g=a.length-1:(g=this.stringify(g),g=a.indexOf(g),g=g===0?a.length-1:g-1);return this.fromString(a[g])};h.prototype.increment=function(g){var a=typeof this.data==="function"?this.data():this.data;g==null?g=0:(g=this.stringify(g),g=a.indexOf(g),g=g===a.length-1?0:g+1);return this.fromString(a[g])};h.prototype.name="selection";d.SelectionType=h;var q=new h({name:"bool",data:["true","false"],stringify:function(g){return""+
g},fromString:function(g){return g==="true"?!0:!1}});c.prototype=new b;c.prototype.stringify=function(g){return this.defer().stringify(g)};c.prototype.parse=function(g){return this.defer().parse(g)};c.prototype.decrement=function(g){var a=this.defer();return a.decrement?a.decrement(g):void 0};c.prototype.increment=function(g){var a=this.defer();return a.increment?a.increment(g):void 0};c.prototype.name="deferred";d.DeferredType=c;j.prototype=new b;j.prototype.stringify=function(g){return g.join(" ")};
j.prototype.parse=function(g){return this.defer().parse(g)};j.prototype.name="array";var l=!1;d.startup=function(){l||(l=!0,f.registerType(n),f.registerType(p),f.registerType(q),f.registerType(h),f.registerType(c),f.registerType(j))};d.shutdown=function(){l=!1;f.unregisterType(n);f.unregisterType(p);f.unregisterType(q);f.unregisterType(h);f.unregisterType(c);f.unregisterType(j)}});
defineace("pilot/types",["requireace","exports","module"],function(e,d){function h(){}function c(b,a){if(b.substr(-2)==="[]"){var c=b.slice(0,-2);return new f.array(c)}c=f[b];typeof c==="function"&&(c=new c(a));return c}var j={VALID:{toString:function(){return"VALID"},valueOf:function(){return 0}},INCOMPLETE:{toString:function(){return"INCOMPLETE"},valueOf:function(){return 1}},INVALID:{toString:function(){return"INVALID"},valueOf:function(){return 2}},combine:function(b){for(var a=j.VALID,c=0;c<
b.length;c++)b[c].valueOf()>a.valueOf()&&(a=b[c]);return a}};d.Status=j;d.Conversion=function(b,a,c,n){this.value=b;this.status=a||j.VALID;this.message=c;this.predictions=n||[]};h.prototype={stringify:function(){throw Error("not implemented");},parse:function(){throw Error("not implemented");},name:void 0,increment:function(){},decrement:function(){},getDefault:function(){return this.parse("")}};d.Type=h;var f={};d.registerType=function(b){if(typeof b==="object")if(b instanceof h){if(!b.name)throw Error("All registered types must have a name");
f[b.name]=b}else throw Error("Can't registerType using: "+b);else if(typeof b==="function"){if(!b.prototype.name)throw Error("All registered types must have a name");f[b.prototype.name]=b}else throw Error("Unknown type: "+b);};d.registerTypes=function(b){Object.keys(b).forEach(function(a){var c=b[a];c.name=a;d.registerType(c)})};d.deregisterType=function(b){delete f[b.name]};d.getType=function(b){if(typeof b==="string")return c(b);if(typeof b==="object"){if(!b.name)throw Error("Missing 'name' member to typeSpec");
return c(b.name,b)}throw Error("Can't extract type from "+b);}});defineace("pilot/types/command",["requireace","exports","module","pilot/canon","pilot/types/basic","pilot/types"],function(e,d){var h=e("pilot/canon"),c=e("pilot/types/basic").SelectionType,j=e("pilot/types"),f=new c({name:"command",data:function(){return h.getCommandNames()},stringify:function(b){return b.name},fromString:function(b){return h.getCommand(b)}});d.startup=function(){j.registerType(f)};d.shutdown=function(){j.unregisterType(f)}});
defineace("pilot/canon",["requireace","exports","module","pilot/console","pilot/stacktrace","pilot/oop","pilot/useragent","pilot/keys","pilot/event_emitter","pilot/typecheck","pilot/catalog","pilot/types","pilot/lang"],function(e,d){function h(g,a,l,b){return(b&&g.toLowerCase()||g).replace(/(?:^\s+|\n|\s+$)/g,"").split(RegExp("[\\s ]*"+a+"[\\s ]*","g"),l||999)}function c(a,l,b){for(var c,m=0,a=h(a,"\\-",null,!0),k=0,n=a.length;k<n;++k)g.KEY_MODS[a[k]]?m|=g.KEY_MODS[a[k]]:c=a[k]||"-";if(b==null)return{key:c,
hashId:m};else(b[m]||(b[m]={}))[c]=l}function j(g){var a=g.bindKey,l=a[B],b=x,m=A;if(!a.sender)throw Error("All key bindings must have a sender");if(!a.mac&&a.mac!==null)throw Error("All key bindings must have a mac key binding");if(!a.win&&a.win!==null)throw Error("All key bindings must have a windows key binding");if(a[B])if(typeof a.sender=="string")h(a.sender,"\\|",null,!0).forEach(function(a){b[a]||(b[a]={});l.split("|").forEach(function(l){c(l,g,b[a])})});else if(t.isFunction(a.sender))a={command:g,
sender:a.sender},keyData=c(l),m[keyData.hashId]||(m[keyData.hashId]={}),m[keyData.hashId][keyData.key]?m[keyData.hashId][keyData.key].push(a):m[keyData.hashId][keyData.key]=[a];else throw Error("Key binding must have a sender that is a string or function");}function f(a,l,b,c){t.isNumber(c)&&(c=g.keyCodeToString(c));for(var m=(A[b]||{})[c]||[],k=0;k<m.length;k++)if(m[k].sender(a,l,b,c))return m[k].command;return(a=x[l])&&a[b]&&a[b][c]}function b(g,a){var l=a.type;a.type=u.getType(l);if(a.type==null)throw Error("In "+
g+"/"+a.name+": can't find type for: "+JSON.stringify(l));}function a(a,g){for(var l=a.args,b=a.command.params,c=0;c<b.length;c++){var m=b[c];if(a.getParamStatus(m)!=o.VALID||m.defaultValue===null){var k=m.description;m.defaultValue===null&&(k+=" (optional)");if(k=prompt(k,m.defaultValue||""))l[m.name]=k;else{g();return}}}g()}function k(g,l,b,c,m){function k(){g.exec(l,f.args,f);!f.isAsync&&!f.isDone&&f.done()}typeof g==="string"&&(g=w[g]);if(!g)return!1;var f=new n({sender:b,command:g,args:c||{},
typed:m});if(f.getStatus()==o.INVALID)return p.error("Canon.exec: Invalid parameter(s) passed to "+g.name),!1;else{if(f.getStatus()==o.INCOMPLETE){var j,b=l[b];if(!b||!b.getArgsProvider||!(j=b.getArgsProvider()))j=a;j(f,function(){f.getStatus()==o.VALID&&k()})}else k();return!0}}function n(g){g=g||{};this.command=g.command;this.args=g.args;this.typed=g.typed;this._begunOutput=!1;this.start=new Date;this.end=null;this.error=this.completed=!1}var p=e("pilot/console");e("pilot/stacktrace");var q=e("pilot/oop"),
l=e("pilot/useragent"),g=e("pilot/keys"),m=e("pilot/event_emitter").EventEmitter,t=e("pilot/typecheck"),s=e("pilot/catalog"),o=e("pilot/types").Status,u=e("pilot/types"),v=e("pilot/lang"),r={name:"command",description:"A command is a bit of functionality with optional typed arguments which can do something small like moving the cursor around the screen, or large like cloning a project from VCS.",indexOn:"name"};d.startup=function(){s.addExtensionSpec(r)};d.shutdown=function(){s.removeExtensionSpec(r)};
var w={},x={},A={},B=l.isMac?"mac":"win",y=[];d.removeCommand=function(g){g=typeof g==="string"?g:g.name;delete w[g];v.arrayRemove(y,g)};d.addCommand=function(g){if(!g.name)throw Error("All registered commands must have a name");if(g.params==null)g.params=[];if(!Array.isArray(g.params))throw Error("command.params must be an array in "+g.name);g.params.forEach(function(a){if(!a.name)throw Error("In "+g.name+": all params must have a name");b(g.name,a)},this);w[g.name]=g;g.bindKey&&j(g);y.push(g.name);
y.sort()};d.getCommand=function(g){return w[g]};d.getCommandNames=function(){return y};d.findKeyCommand=f;d.exec=k;d.execKeyCommand=function(g,a,l,b){return(l=f(g,a,l,b))?k(l,g,a,{}):!1};d.upgradeType=b;q.implement(d,m);var z=[];q.implement(n.prototype,m);n.prototype.getParamStatus=function(g){var a=this.args||{};if(g.name in a){if(a[g.name]==null)return g.defaultValue===null?o.VALID:o.INCOMPLETE;var l,a=a[g.name].toString();try{l=g.type.parse(a)}catch(b){return o.INVALID}if(l.status!=o.VALID)return l.status}else if(g.defaultValue===
void 0)return o.INCOMPLETE;return o.VALID};n.prototype.getParamNameStatus=function(g){for(var a=this.command.params||[],l=0;l<a.length;l++)if(a[l].name==g)return this.getParamStatus(a[l]);throw"Parameter '"+g+"' not defined on command '"+this.command.name+"'";};n.prototype.getStatus=function(){var g=this.command.params;if(!g||g.length==0)return o.VALID;for(var a=[],l=0;l<g.length;l++)a.push(this.getParamStatus(g[l]));return o.combine(a)};n.prototype._beginOutput=function(){this._begunOutput=!0;this.outputs=
[];for(z.push(this);z.length>100;)z.shiftObject();d._dispatchEvent("output",{requests:z,request:this})};n.prototype.doneWithError=function(g){this.error=!0;this.done(g)};n.prototype.async=function(){this.isAsync=!0;this._begunOutput||this._beginOutput()};n.prototype.output=function(g){this._begunOutput||this._beginOutput();typeof g!=="string"&&!(g instanceof Node)&&(g=g.toString());this.outputs.push(g);this.isDone=!0;this._dispatchEvent("output",{});return this};n.prototype.done=function(g){this.completed=
!0;this.end=new Date;this.duration=this.end.getTime()-this.start.getTime();g&&this.output(g);if(!this.isDone)this.isDone=!0,this._dispatchEvent("output",{})};d.Request=n});
defineace("pilot/console",["requireace","exports","module"],function(e,d){var h=function(){},c=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","log","profile","profileEnd","time","timeEnd","trace","warn"];typeof window==="undefined"?c.forEach(function(c){d[c]=function(){var f=Array.prototype.slice.call(arguments);postMessage(JSON.stringify({op:"log",method:c,args:f}))}}):c.forEach(function(c){d[c]=window.console&&window.console[c]?Function.prototype.bind.call(window.console[c],
window.console):h})});
defineace("pilot/stacktrace",["requireace","exports","module","pilot/useragent","pilot/console"],function(e,d){function h(){}var c=e("pilot/useragent"),j=e("pilot/console"),f=c.isGecko?"firefox":c.isOpera?"opera":"other",b={chrome:function(a){var b=a.stack;if(!b)return j.log(a),[];return b.replace(/^.*?\n/,"").replace(/^.*?\n/,"").replace(/^.*?\n/,"").replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n")},firefox:function(a){var b=a.stack;
if(!b)return j.log(a),[];b=b.replace(/(?:\n@:0)?\s+$/m,"");b=b.replace(/^\(/gm,"{anonymous}(");return b.split("\n")},opera:function(a){var a=a.message.split("\n"),b=/Line\s+(\d+).*?script\s+(http\S+)(?:.*?in\s+function\s+(\S+))?/i,c,l,g;c=4;l=0;for(g=a.length;c<g;c+=2)b.test(a[c])&&(a[l++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:"{anonymous}()@"+RegExp.$2+":"+RegExp.$1)+" -- "+a[c+1].replace(/^\s+/,""));a.splice(l,a.length-l);return a},other:function(a){for(var b=/function\s*([\w\-$]+)?\s*\(/i,
c=[],l=0,g,m;a&&c.length<10;){g=b.test(a.toString())?RegExp.$1||"{anonymous}":"{anonymous}";m=Array.prototype.slice.call(a.arguments);var k=c,f=l++;g+="(";for(var j=0;j<m.length;++j){var d=m[j];typeof d=="object"?m[j]="#object":typeof d=="function"?m[j]="#function":typeof d=="string"&&(m[j]='"'+d+'"')}m=m.join(",");k[f]=g+m+")";if(a===a.caller&&window.opera)break;a=a.caller}return c}};h.prototype={sourceCache:{},ajax:function(a){var b=this.createXMLHTTPObject();if(b)return b.open("GET",a,!1),b.setRequestHeader("User-Agent",
"XMLHTTP/1.0"),b.send(""),b.responseText},createXMLHTTPObject:function(){for(var a,b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],c=0;c<b.length;c++)try{return a=b[c](),this.createXMLHTTPObject=b[c],a}catch(l){}},getSource:function(a){a in this.sourceCache||(this.sourceCache[a]=this.ajax(a).split("\n"));return this.sourceCache[a]},guessFunctions:function(a){for(var b=
0;b<a.length;++b){var c=a[b],l=/{anonymous}\(.*\)@(\w+:\/\/([-\w\.]+)+(:\d+)?[^:]+):(\d+):?(\d+)?/.exec(c);if(l){var g=l[1],l=l[4];g&&l&&(g=this.guessFunctionName(g,l),a[b]=c.replace("{anonymous}",g))}}return a},guessFunctionName:function(a,b){try{return this.guessFunctionNameFromLines(b,this.getSource(a))}catch(c){return"getSource failed with url: "+a+", exception: "+c.toString()}},guessFunctionNameFromLines:function(a,b){for(var c=/function ([^(]*)\(([^)]*)\)/,l=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,
g="",m=0;m<10;++m)if(g=b[a-m]+g,g!==void 0){var k=l.exec(g);if(k)return k[1];else k=c.exec(g);if(k&&k[1])return k[1]}return"(?)"}};var a=new h,k=[/http:\/\/localhost:4020\/sproutcore.js:/];d.ignoreFramesMatching=function(a){k.push(a)};d.Trace=function(c,k){this._ex=c;this._stack=b[f](c);if(k)this._stack=a.guessFunctions(this._stack)};d.Trace.prototype.log=function(a){a<=0&&(a=999999999);for(var b=0,c=0;c<this._stack.length&&b<a;c++){var l=this._stack[c],g=!0;k.forEach(function(a){a.test(l)&&(g=!1)});
g&&(j.debug(l),b++)}}});
defineace("pilot/useragent",["requireace","exports","module"],function(e,d){var h=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),c=navigator.userAgent;d.isWin=h=="win";d.isMac=h=="mac";d.isLinux=h=="linux";d.isIE=!+"\u000b1";d.isGecko=d.isMozilla=window.controllers&&window.navigator.product==="Gecko";d.isOldGecko=d.isGecko&&/rv\:1/.test(navigator.userAgent);d.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]";d.isWebKit=parseFloat(c.split("WebKit/")[1])||
void 0;d.isAIR=c.indexOf("AdobeAIR")>=0;d.isIPad=c.indexOf("iPad")>=0;d.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};d.getOS=function(){return d.isMac?d.OS.MAC:d.isLinux?d.OS.LINUX:d.OS.WINDOWS}});
defineace("pilot/oop",["requireace","exports","module"],function(e,d){d.inherits=function(){var d=function(){};return function(c,j){d.prototype=j.prototype;c.super_=j.prototype;c.prototype=new d;c.prototype.constructor=c}}();d.mixin=function(d,c){for(var j in c)d[j]=c[j]};d.implement=function(e,c){d.mixin(e,c)}});
defineace("pilot/keys",["requireace","exports","module","pilot/oop"],function(e,d){var h=e("pilot/oop"),c=function(){var c={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",
119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:'"'}};for(i in c.FUNCTION_KEYS){var f=c.FUNCTION_KEYS[i].toUpperCase();
c[f]=parseInt(i,10)}h.mixin(c,c.MODIFIER_KEYS);h.mixin(c,c.PRINTABLE_KEYS);h.mixin(c,c.FUNCTION_KEYS);return c}();h.mixin(d,c);d.keyCodeToString=function(j){return(c[j]||String.fromCharCode(j)).toLowerCase()}});
defineace("pilot/event_emitter",["requireace","exports","module"],function(e,d){var h={};h._emit=h._dispatchEvent=function(c,j){this._eventRegistry=this._eventRegistry||{};var f=this._eventRegistry[c];if(f&&f.length){j=j||{};j.type=c;for(var b=0;b<f.length;b++)f[b](j)}};h.on=h.addEventListener=function(c,j){this._eventRegistry=this._eventRegistry||{};var f=this._eventRegistry[c];f||(f=this._eventRegistry[c]=[]);f.indexOf(j)==-1&&f.push(j)};h.removeListener=h.removeEventListener=function(c,j){this._eventRegistry=
this._eventRegistry||{};var f=this._eventRegistry[c];if(f){var b=f.indexOf(j);b!==-1&&f.splice(b,1)}};h.removeAllListeners=function(c){this._eventRegistry&&(this._eventRegistry[c]=[])};d.EventEmitter=h});
defineace("pilot/typecheck",["requireace","exports","module"],function(e,d){var h=Object.prototype.toString;d.isString=function(c){return c&&h.call(c)==="[object String]"};d.isBoolean=function(c){return c&&h.call(c)==="[object Boolean]"};d.isNumber=function(c){return c&&h.call(c)==="[object Number]"&&isFinite(c)};d.isObject=function(c){return c!==void 0&&(c===null||typeof c=="object"||Array.isArray(c)||d.isFunction(c))};d.isFunction=function(c){return c&&h.call(c)==="[object Function]"}});
defineace("pilot/catalog",["requireace","exports","module"],function(e,d){var h={};d.addExtensionSpec=function(c){h[c.name]=c};d.removeExtensionSpec=function(c){typeof c==="string"?delete h[c]:delete h[c.name]};d.getExtensionSpec=function(c){return h[c]};d.getExtensionSpecs=function(){return Object.keys(h)}});
defineace("pilot/lang",["requireace","exports","module"],function(e,d){d.stringReverse=function(c){return c.split("").reverse().join("")};d.stringRepeat=function(c,f){return Array(f+1).join(c)};var h=/^\s\s*/,c=/\s\s*$/;d.stringTrimLeft=function(c){return c.replace(h,"")};d.stringTrimRight=function(j){return j.replace(c,"")};d.copyObject=function(c){var f={},b;for(b in c)f[b]=c[b];return f};d.arrayToMap=function(c){for(var f={},b=0;b<c.length;b++)f[c[b]]=1;return f};d.arrayRemove=function(c,f){for(var b=
0;b<=c.length;b++)f===c[b]&&c.splice(b,1)};d.escapeRegExp=function(c){return c.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};d.deferredCall=function(c){var f=null,b=function(){f=null;c()},a=function(c){f||(f=setTimeout(b,c||0));return a};a.schedule=a;a.call=function(){this.cancel();c();return a};a.cancel=function(){clearTimeout(f);f=null;return a};return a}});
defineace("pilot/types/settings",["requireace","exports","module","pilot/types/basic","pilot/types","pilot/settings"],function(e,d){var h=e("pilot/types/basic").SelectionType,c=e("pilot/types/basic").DeferredType,j=e("pilot/types"),f=e("pilot/settings").settings,b,a=new h({name:"setting",data:function(){return n.settings.getSettingNames()},stringify:function(a){b=a;return a.name},fromString:function(a){return b=f.getSetting(a)},noMatch:function(){b=null}}),k=new c({name:"settingValue",defer:function(){return b?
b.type:j.getType("text")},getDefault:function(){var a=this.parse("");if(b){var c=b.get();if(a.predictions.length===0)a.predictions.push(c);else{for(var l=!1;;){var g=a.predictions.indexOf(c);if(g===-1)break;a.predictions.splice(g,1);l=!0}l&&a.predictions.push(c)}}return a}}),n;d.startup=function(b){n=b.env;j.registerType(a);j.registerType(k)};d.shutdown=function(){j.unregisterType(a);j.unregisterType(k)}});
defineace("pilot/settings",["requireace","exports","module","pilot/console","pilot/oop","pilot/types","pilot/event_emitter","pilot/catalog"],function(e,d){function h(b,l){this._settings=l;Object.keys(b).forEach(function(a){this[a]=b[a]},this);this.type=a.getType(this.type);if(this.type==null)throw Error("In "+this.name+": can't find type for: "+JSON.stringify(b.type));if(!this.name)throw Error("Setting.name == undefined. Ignoring.",this);if(!this.defaultValue===void 0)throw Error("Setting.defaultValue == undefined",
this);if(this.onChange)this.on("change",this.onChange.bind(this));this.set(this.defaultValue)}function c(a){this._deactivated={};this._settings={};this._settingNames=[];a&&this.setPersister(a)}function j(){}var f=e("pilot/console"),b=e("pilot/oop"),a=e("pilot/types"),k=e("pilot/event_emitter").EventEmitter,n=e("pilot/catalog"),p={name:"setting",description:"A setting is something that the application offers as a way to customize how it works",register:"env.settings.addSetting",indexOn:"name"};d.startup=
function(){n.addExtensionSpec(p)};d.shutdown=function(){n.removeExtensionSpec(p)};h.prototype={get:function(){return this.value},set:function(a){if(this.value!==a)this.value=a,this._settings.persister&&this._settings.persister.persistValue(this._settings,this.name,a),this._dispatchEvent("change",{setting:this,value:a})},resetValue:function(){this.set(this.defaultValue)}};b.implement(h.prototype,k);c.prototype={addSetting:function(a){a=new h(a,this);this._settings[a.name]=a;this._settingNames.push(a.name);
this._settingNames.sort()},addSettings:function(a){Object.keys(a).forEach(function(b){var g=a[b];if(!("name"in g))g.name=b;this.addSetting(g)},this)},removeSetting:function(a){a=typeof a==="string"?a:a.name;delete this._settings[a];util.arrayRemove(this._settingNames,a);settings.removeAllListeners("change")},removeSettings:function(a){Object.keys(a).forEach(function(b){var g=a[b];if(!("name"in g))g.name=b;this.removeSettings(g)},this)},getSettingNames:function(){return this._settingNames},getSetting:function(a){return this._settings[a]},
setPersister:function(a){(this._persister=a)&&a.loadInitialValues(this)},resetAll:function(){this.getSettingNames().forEach(function(a){this.resetValue(a)},this)},_list:function(){var a=[];this.getSettingNames().forEach(function(b){a.push({key:b,value:this.getSetting(b).get()})},this);return a},_loadDefaultValues:function(){this._loadFromObject(this._getDefaultValues())},_loadFromObject:function(a){for(var b in a)if(a.hasOwnProperty(b)){var g=this._settings[b];g?(g=g.type.parse(a[b]),this.set(b,g)):
this.set(b,a[b])}},_saveToObject:function(){return this.getSettingNames().map(function(a){return this._settings[a].type.stringify(this.get(a))}.bind(this))},_getDefaultValues:function(){return this.getSettingNames().map(function(a){return this._settings[a].spec.defaultValue}.bind(this))}};d.settings=new c;j.prototype={loadInitialValues:function(a){a._loadDefaultValues();var b=cookie.get("settings");a._loadFromObject(JSON.parse(b))},persistValue:function(a){try{var b=JSON.stringify(a._saveToObject());
cookie.set("settings",b)}catch(g){f.error("Unable to JSONify the settings! "+g)}}};d.CookiePersister=j});
defineace("pilot/commands/settings",["requireace","exports","module","pilot/canon"],function(e,d){var h={name:"set",params:[{name:"setting",type:"setting",description:"The name of the setting to display or alter",defaultValue:null},{name:"value",type:"settingValue",description:"The new value for the chosen setting",defaultValue:null}],description:"define and show settings",exec:function(c,b,a){var k;b.setting?b.value===void 0?k="<strong>"+setting.name+"</strong> = "+setting.get():(b.setting.set(b.value),
k="Setting: <strong>"+b.setting.name+"</strong> = "+b.setting.get()):(b=c.settings.getSettingNames(),k="",b.sort(function(a,b){return a.localeCompare(b)}),b.forEach(function(a){a=c.settings.getSetting(a);k+='<a class="setting" href="https://wiki.mozilla.org/Labs/Skywriter/Settings#'+a.name+'" title="View external documentation on setting: '+a.name+'" target="_blank">'+a.name+"</a> = "+a.value+"<br/>"}));a.done(k)}},c={name:"unset",params:[{name:"setting",type:"setting",description:"The name of the setting to return to defaults"}],
description:"unset a setting entirely",exec:function(c,b,a){var k=c.settings.get(b.setting);k?(k.reset(),a.done("Reset "+k.name+" to default: "+c.settings.get(b.setting))):a.doneWithError("No setting with the name <strong>"+b.setting+"</strong>.")}},j=e("pilot/canon");d.startup=function(){j.addCommand(h);j.addCommand(c)};d.shutdown=function(){j.removeCommand(h);j.removeCommand(c)}});
defineace("pilot/commands/basic",["requireace","exports","module","pilot/typecheck","pilot/canon"],function(e,d){var h=e("pilot/typecheck"),c=e("pilot/canon"),j={plainPrefix:'<h2>Welcome to Skywriter - Code in the Cloud</h2><ul><li><a href="http://labs.mozilla.com/projects/skywriter" target="_blank">Home Page</a></li><li><a href="https://wiki.mozilla.org/Labs/Skywriter" target="_blank">Wiki</a></li><li><a href="https://wiki.mozilla.org/Labs/Skywriter/UserGuide" target="_blank">User Guide</a></li><li><a href="https://wiki.mozilla.org/Labs/Skywriter/Tips" target="_blank">Tips and Tricks</a></li><li><a href="https://wiki.mozilla.org/Labs/Skywriter/FAQ" target="_blank">FAQ</a></li><li><a href="https://wiki.mozilla.org/Labs/Skywriter/DeveloperGuide" target="_blank">Developers Guide</a></li></ul>',
plainSuffix:'For more information, see the <a href="https://wiki.mozilla.org/Labs/Skywriter">Skywriter Wiki</a>.'},f={name:"help",params:[{name:"search",type:"text",description:"Search string to narrow the output.",defaultValue:null}],description:"Get help on the available commands.",exec:function(a,b,k){var a=[],l=c.getCommand(b.search);if(l&&l.exec)a.push(l.description?l.description:"No description for "+b.search);else{var g=!1;!b.search&&j.plainPrefix&&a.push(j.plainPrefix);if(l)a.push("<h2>Sub-Commands of "+
l.name+"</h2>"),a.push("<p>"+l.description+"</p>");else if(b.search){if(b.search=="hidden")b.search="",g=!0;a.push("<h2>Commands starting with '"+b.search+"':</h2>")}else a.push("<h2>Available Commands:</h2>");var m=c.getCommandNames();m.sort();a.push("<table>");for(var f=0;f<m.length;f++)if(l=c.getCommand(m[f]),g||!l.hidden)if(l.description!==void 0&&!(b.search&&l.name.indexOf(b.search)!==0)&&(b.search||l.name.indexOf(" ")==-1)&&!(l&&l.name==b.search))a.push("<tr>"),a.push('<th class="right">'+l.name+
"</th>"),a.push("<td>"+l.description+"</td>"),a.push("</tr>");a.push("</table>");!b.search&&j.plainSuffix&&a.push(j.plainSuffix)}k.done(a.join(""))}},b={name:"eval",params:[{name:"javascript",type:"text",description:"The JavaScript to evaluate"}],description:"evals given js code and show the result",hidden:!0,exec:function(a,b,c){var l,a=b.javascript;try{l=eval(a)}catch(g){l="<b>Error: "+g.message+"</b>"}var m=b="",k;if(h.isFunction(l))b=(l+"").replace(/\n/g,"<br>").replace(/ /g,"&#160"),m="function";
else if(h.isObject(l)){var m=Array.isArray(l)?"array":"object",f=[],d;for(k in l)l.hasOwnProperty(k)&&(d=h.isFunction(l[k])?"[function]":h.isObject(l[k])?"[object]":l[k],f.push({name:k,value:d}));f.sort(function(a,g){return a.name.toLowerCase()<g.name.toLowerCase()?-1:1});for(k=0;k<f.length;k++)b+="<b>"+f[k].name+"</b>: "+f[k].value+"<br>"}else b=l,m=typeof l;c.done("Result for eval <b>'"+a+"'</b> (type: "+m+"): <br><br>"+b)}},a={name:"skywriter",hidden:!0,exec:function(a,b,c){c.done("Skywriter "+
k[Math.floor(Math.random()*k.length)])}},k=["really wants you to trick it out in some way.","is your Web editor.","would love to be like Emacs on the Web.","is written on the Web platform, so you can tweak it."],c=e("pilot/canon");d.startup=function(){c.addCommand(f);c.addCommand(b);c.addCommand(a)};d.shutdown=function(){c.removeCommand(f);c.removeCommand(b);c.removeCommand(a)}});
defineace("pilot/settings/canon",["requireace","exports","module"],function(e,d){var h={name:"historyLength",description:"How many typed commands do we recall for reference?",type:"number",defaultValue:50};d.startup=function(c){c.env.settings.addSetting(h)};d.shutdown=function(c){c.env.settings.removeSetting(h)}});
defineace("pilot/plugin_manager",["requireace","exports","module","pilot/promise"],function(e,d){var h=e("pilot/promise").Promise;d.REASONS={APP_STARTUP:1,APP_SHUTDOWN:2,PLUGIN_ENABLE:3,PLUGIN_DISABLE:4,PLUGIN_INSTALL:5,PLUGIN_UNINSTALL:6,PLUGIN_UPGRADE:7,PLUGIN_DOWNGRADE:8};d.Plugin=function(c){this.name=c;this.status=this.INSTALLED};d.Plugin.prototype={NEW:0,INSTALLED:1,REGISTERED:2,STARTED:3,UNREGISTERED:4,SHUTDOWN:5,install:function(c,d){var f=new h;if(this.status>this.NEW)return f.resolve(this),
f;e([this.name],function(b){b.install&&b.install(c,d);this.status=this.INSTALLED;f.resolve(this)}.bind(this));return f},register:function(c,d){var f=new h;if(this.status!=this.INSTALLED)return f.resolve(this),f;e([this.name],function(b){b.register&&b.register(c,d);this.status=this.REGISTERED;f.resolve(this)}.bind(this));return f},startup:function(c,j){var j=j||d.REASONS.APP_STARTUP,f=new h;if(this.status!=this.REGISTERED)return f.resolve(this),f;e([this.name],function(b){b.startup&&b.startup(c,j);
this.status=this.STARTED;f.resolve(this)}.bind(this));return f},shutdown:function(c,d){this.status==this.STARTED&&(pluginModule=e(this.name),pluginModule.shutdown&&pluginModule.shutdown(c,d))}};d.PluginCatalog=function(){this.plugins={}};d.PluginCatalog.prototype={registerPlugins:function(c,j,f){var b=[];c.forEach(function(a){var c=this.plugins[a];c===void 0&&(c=new d.Plugin(a),this.plugins[a]=c,b.push(c.register(j,f)))}.bind(this));return h.group(b)},startupPlugins:function(c,d){var f=[],b;for(b in this.plugins)f.push(this.plugins[b].startup(c,
d));return h.group(f)}};d.catalog=new d.PluginCatalog});
defineace("pilot/promise",["requireace","exports","module","pilot/console","pilot/stacktrace"],function(e,d){var h=e("pilot/console");e("pilot/stacktrace");var c=0,j=[],f=[];Promise=function(){this._status=0;this._value=void 0;this._onSuccessHandlers=[];this._onErrorHandlers=[];this._id=c++;j[this._id]=this};Promise.prototype.isPromise=!0;Promise.prototype.isComplete=function(){return this._status!=0};Promise.prototype.isResolved=function(){return this._status==1};Promise.prototype.isRejected=function(){return this._status==
-1};Promise.prototype.then=function(b,a){typeof b==="function"&&(this._status===1?b.call(null,this._value):this._status===0&&this._onSuccessHandlers.push(b));typeof a==="function"&&(this._status===-1?a.call(null,this._value):this._status===0&&this._onErrorHandlers.push(a));return this};Promise.prototype.chainPromise=function(b){var a=new Promise;a._chainedFrom=this;this.then(function(c){try{a.resolve(b(c))}catch(f){a.reject(f)}},function(b){a.reject(b)});return a};Promise.prototype.resolve=function(b){return this._complete(this._onSuccessHandlers,
1,b,"resolve")};Promise.prototype.reject=function(b){return this._complete(this._onErrorHandlers,-1,b,"reject")};Promise.prototype._complete=function(b,a,c,d){if(this._status!=0)return h.group("Promise already closed"),h.error("Attempted "+d+"() with ",c),h.error("Previous status = ",this._status,", previous value = ",this._value),h.trace(),this._completeTrace&&(h.error("Trace of previous completion:"),this._completeTrace.log(5)),h.groupEnd(),this;this._status=a;this._value=c;b.forEach(function(a){a.call(null,
this._value)},this);this._onSuccessHandlers.length=0;this._onErrorHandlers.length=0;delete j[this._id];for(f.push(this);f.length>20;)f.shift();return this};Promise.group=function(b){b instanceof Array||(b=Array.prototype.slice.call(arguments));if(b.length===0)return(new Promise).resolve([]);var a=new Promise,c=[],f=0,d=function(d){return function(l){c[d]=l;f++;a._status!==-1&&f===b.length&&a.resolve(c)}};b.forEach(function(b,c){var g=d(c),m=a.reject.bind(a);b.then(g,m)});return a};d.Promise=Promise;
d._outstanding=j;d._recent=f});defineace("pilot/environment",["requireace","exports","module","pilot/settings"],function(e,d){var h=e("pilot/settings").settings;d.create=function(){return{settings:h}}});
defineace("ace/editor",["requireace","exports","module","pilot/fixoldbrowsers","pilot/oop","pilot/event","pilot/lang","pilot/useragent","ace/keyboard/textinput","ace/mouse_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","pilot/event_emitter"],function(e,d){e("pilot/fixoldbrowsers");var h=e("pilot/oop");e("pilot/event");var c=e("pilot/lang"),j=e("pilot/useragent"),f=e("ace/keyboard/textinput").TextInput,b=e("ace/mouse_handler").MouseHandler,a=e("ace/keyboard/keybinding").KeyBinding,
k=e("ace/edit_session").EditSession,n=e("ace/search").Search,p=e("ace/range").Range,q=e("pilot/event_emitter").EventEmitter,l=function(g,c){this.container=g.getContainerElement();this.renderer=g;this.textInput=new f(g.getTextAreaContainer(),this);this.keyBinding=new a(this);if(!j.isIPad)this.$mouseHandler=new b(this);this.$blockScrolling=0;this.$search=(new n).set({wrap:!0});this.setSession(c||new k(""))};(function(){h.implement(this,q);this.$forwardEvents={gutterclick:1,gutterdblclick:1};this.$originalAddEventListener=
this.addEventListener;this.$originalRemoveEventListener=this.removeEventListener;this.addEventListener=function(a,b){return this.$forwardEvents[a]?this.renderer.addEventListener(a,b):this.$originalAddEventListener(a,b)};this.removeEventListener=function(a,b){return this.$forwardEvents[a]?this.renderer.removeEventListener(a,b):this.$originalRemoveEventListener(a,b)};this.setKeyboardHandler=function(a){this.keyBinding.setKeyboardHandler(a)};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};
this.setSession=function(a){if(this.session!=a){if(this.session){var b=this.session;this.session.removeEventListener("change",this.$onDocumentChange);this.session.removeEventListener("changeMode",this.$onChangeMode);this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate);this.session.removeEventListener("changeTabSize",this.$onChangeTabSize);this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit);this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode);
this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker);this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker);this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint);this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation);this.session.removeEventListener("changeOverwrite",this.$onCursorChange);var c=this.session.getSelection();c.removeEventListener("changeCursor",this.$onCursorChange);c.removeEventListener("changeSelection",
this.$onSelectionChange);this.session.setScrollTopRow(this.renderer.getScrollTopRow())}this.session=a;this.$onDocumentChange=this.onDocumentChange.bind(this);a.addEventListener("change",this.$onDocumentChange);this.renderer.setSession(a);this.$onChangeMode=this.onChangeMode.bind(this);a.addEventListener("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);a.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.updateText.bind(this.renderer);
a.addEventListener("changeTabSize",this.$onChangeTabSize);this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);a.addEventListener("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);a.addEventListener("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);this.session.addEventListener("changeBackMarker",
this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.addEventListener("changeOverwrite",this.$onCursorChange);this.selection=a.getSelection();this.selection.addEventListener("changeCursor",this.$onCursorChange);
this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.addEventListener("changeSelection",this.$onSelectionChange);this.onChangeMode();this.onCursorChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.renderer.scrollToRow(a.getScrollTopRow());this.renderer.updateFull();this._dispatchEvent("changeSession",{session:a,oldSession:b})}};this.getSession=function(){return this.session};this.getSelection=
function(){return this.selection};this.resize=function(){this.renderer.onResize()};this.setTheme=function(a){this.renderer.setTheme(a)};this.setStyle=function(a){this.renderer.setStyle(a)};this.unsetStyle=function(a){this.renderer.unsetStyle(a)};this.$highlightBrackets=function(){if(this.session.$bracketHighlight)this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null;if(!this.$highlightPending){var a=this;this.$highlightPending=!0;setTimeout(function(){a.$highlightPending=
!1;var b=a.session.findMatchingBracket(a.getCursorPosition());if(b)b=new p(b.row,b.column,b.row,b.column+1),a.session.$bracketHighlight=a.session.addMarker(b,"ace_bracket")},10)}};this.focus=function(){var a=this;j.isIE||setTimeout(function(){a.textInput.focus()});this.textInput.focus()};this.blur=function(){this.textInput.blur()};this.onFocus=function(){this.renderer.showCursor();this.renderer.visualizeFocus();this._dispatchEvent("focus")};this.onBlur=function(){this.renderer.hideCursor();this.renderer.visualizeBlur();
this._dispatchEvent("blur")};this.onDocumentChange=function(a){var a=a.data,b=a.range;this.renderer.updateLines(b.start.row,b.start.row==b.end.row&&a.action!="insertLines"&&a.action!="removeLines"?b.end.row:Infinity);this.renderer.updateCursor()};this.onTokenizerUpdate=function(a){a=a.data;this.renderer.updateLines(a.first,a.last)};this.onCursorChange=function(){this.renderer.updateCursor();this.$blockScrolling||this.renderer.scrollCursorIntoView();this.renderer.moveTextAreaToCursor(this.textInput.getElement());
this.$highlightBrackets();this.$updateHighlightActiveLine()};this.$updateHighlightActiveLine=function(){var a=this.getSession();a.$highlightLineMarker&&a.removeMarker(a.$highlightLineMarker);a.$highlightLineMarker=null;if(this.getHighlightActiveLine()&&(this.getSelectionStyle()!="line"||!this.selection.isMultiLine())){var b=this.getCursorPosition(),b=new p(b.row,0,b.row+1,0);a.$highlightLineMarker=a.addMarker(b,"ace_active_line","line")}};this.onSelectionChange=function(a){var b=this.getSession();
b.$selectionMarker&&b.removeMarker(b.$selectionMarker);b.$selectionMarker=null;if(!this.selection.isEmpty()){var c=this.selection.getRange(),l=this.getSelectionStyle();b.$selectionMarker=b.addMarker(c,"ace_selection",l)}this.onCursorChange(a);this.$highlightSelectedWord&&this.session.getMode().highlightSelection(this)};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.setBreakpoints(this.session.getBreakpoints())};
this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(){this.renderer.updateText()};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.getCopyText=function(){return this.selection.isEmpty()?"":this.session.getTextRange(this.getSelectionRange())};this.onCut=function(){!this.$readOnly&&!this.selection.isEmpty()&&(this.session.remove(this.getSelectionRange()),
this.clearSelection())};this.insert=function(a){if(!this.$readOnly){var b=this.session,c=b.getMode(),l=this.getCursorPosition(),a=a.replace("\t",this.session.getTabString());if(this.selection.isEmpty()){if(this.session.getOverwrite()){var k=new p.fromPoints(l,l);k.end.column+=a.length;this.session.remove(k)}}else l=this.session.remove(this.getSelectionRange()),this.clearSelection();this.clearSelection();var f=b.getState(l.row),d=c.checkOutdent(f,b.getLine(l.row),a),k=b.getLine(l.row),j=c.getNextLineIndent(f,
k.slice(0,l.column),b.getTabString()),n=b.insert(l,a),f=b.getState(l.row);if(b.getDocument().isNewLine(a)){this.moveCursorTo(l.row+1,0);a=b.getTabSize();c=Number.MAX_VALUE;for(f=l.row+1;f<=n.row;++f){for(var e=0,k=b.getLine(f),d=0;d<k.length;++d)if(k.charAt(d)=="\t")e+=a;else if(k.charAt(d)==" ")e+=1;else break;/[^\s]/.test(k)&&(c=Math.min(e,c))}for(f=l.row+1;f<=n.row;++f){e=c;k=b.getLine(f);for(d=0;d<k.length&&e>0;++d)k.charAt(d)=="\t"?e-=a:k.charAt(d)==" "&&(e-=1);b.remove(new p(f,0,f,d))}b.indentRows(l.row+
1,n.row,j)}else d&&c.autoOutdent(f,b,l.row)}};this.onTextInput=function(a){this.keyBinding.onTextInput(a)};this.onCommandKey=function(a,b,c){this.keyBinding.onCommandKey(a,b,c)};this.setOverwrite=function(a){this.session.setOverwrite(a)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(a){this.$mouseHandler.setScrollSpeed(a)};this.getScrollSpeed=function(){return this.$mouseHandler.getScrollSpeed()};
this.$selectionStyle="line";this.setSelectionStyle=function(a){if(this.$selectionStyle!=a)this.$selectionStyle=a,this.onSelectionChange(),this._dispatchEvent("changeSelectionStyle",{data:a})};this.getSelectionStyle=function(){return this.$selectionStyle};this.$highlightActiveLine=!0;this.setHighlightActiveLine=function(a){if(this.$highlightActiveLine!=a)this.$highlightActiveLine=a,this.$updateHighlightActiveLine()};this.getHighlightActiveLine=function(){return this.$highlightActiveLine};this.$highlightSelectedWord=
!0;this.setHighlightSelectedWord=function(a){if(this.$highlightSelectedWord!=a)(this.$highlightSelectedWord=a)?this.session.getMode().highlightSelection(this):this.session.getMode().clearSelectionHighlight(this)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setShowInvisibles=function(a){this.getShowInvisibles()!=a&&this.renderer.setShowInvisibles(a)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)};
this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.$readOnly=!1;this.setReadOnly=function(a){this.$readOnly=a};this.getReadOnly=function(){return this.$readOnly};this.removeRight=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectRight(),this.session.remove(this.getSelectionRange()),this.clearSelection())};
this.removeLeft=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection())};this.removeWordRight=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection())};this.removeWordLeft=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection())};
this.removeToLineStart=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection())};this.removeToLineEnd=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectLineEnd(),this.session.remove(this.getSelectionRange()),this.clearSelection())};this.splitLine=function(){if(!this.$readOnly){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var a=
this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(a)}};this.transposeLetters=function(){if(!this.$readOnly&&this.selection.isEmpty()){var a=this.getCursorPosition(),b=a.column;if(b!=0){var c=this.session.getLine(a.row);b<c.length?(c=c.charAt(b)+c.charAt(b-1),a=new p(a.row,b-1,a.row,b+1)):(c=c.charAt(b-1)+c.charAt(b-2),a=new p(a.row,b-2,a.row,b));this.session.replace(a,c)}}};this.indent=function(){if(!this.$readOnly){var a=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row||
b.start.column<b.end.column)b=this.$getSelectedRows(),a.indentRows(b.first,b.last,"\t");else{if(this.session.getUseSoftTabs())var b=a.getTabSize(),l=this.getCursorPosition(),a=a.documentToScreenColumn(l.row,l.column),a=c.stringRepeat(" ",b-a%b);else a="\t";return this.onTextInput(a)}}};this.blockOutdent=function(){this.$readOnly||this.session.outdentRows(this.session.getSelection().getRange())};this.toggleCommentLines=function(){if(!this.$readOnly){var a=this.session.getState(this.getCursorPosition().row),
b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(a,this.session,b.first,b.last)}};this.removeLines=function(){if(!this.$readOnly){var a=this.$getSelectedRows();this.session.remove(new p(a.first,0,a.last+1,0));this.clearSelection()}};this.moveLinesDown=function(){this.$readOnly||this.$moveLines(function(a,b){return this.session.moveLinesDown(a,b)})};this.moveLinesUp=function(){this.$readOnly||this.$moveLines(function(a,b){return this.session.moveLinesUp(a,b)})};this.moveText=function(a,
b){if(this.$readOnly)return null;return this.session.moveText(a,b)};this.copyLinesUp=function(){this.$readOnly||this.$moveLines(function(a,b){this.session.duplicateLines(a,b);return 0})};this.copyLinesDown=function(){this.$readOnly||this.$moveLines(function(a,b){return this.session.duplicateLines(a,b)})};this.$moveLines=function(a){var b=this.$getSelectedRows(),c=a.call(this,b.first,b.last),l=this.selection;l.setSelectionAnchor(b.last+c+1,0);l.$moveSelection(function(){l.moveCursorTo(b.first+c,0)})};
this.$getSelectedRows=function(){var a=this.getSelectionRange().collapseRows();return{first:a.start.row,last:a.end.row}};this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(a){this.renderer.setCompositionText(a)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};
this.isRowVisible=function(a){return a>=this.getFirstVisibleRow()&&a<=this.getLastVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$getPageDownRow=function(){return this.renderer.getScrollBottomRow()};this.$getPageUpRow=function(){var a=this.renderer.getScrollTopRow(),b=this.renderer.getScrollBottomRow();return a-(b-a)};this.selectPageDown=function(){var a=this.$getPageDownRow()+Math.floor(this.$getVisibleRowCount()/
2);this.scrollPageDown();var b=this.getSelection(),c=this.session.documentToScreenPosition(b.getSelectionLead()),a=this.session.screenToDocumentPosition(a,c.column);b.selectTo(a.row,a.column)};this.selectPageUp=function(){var a=this.renderer.getScrollTopRow()-this.renderer.getScrollBottomRow(),b=this.$getPageUpRow()+Math.round(a/2);this.scrollPageUp();var a=this.getSelection(),c=this.session.documentToScreenPosition(a.getSelectionLead()),b=this.session.screenToDocumentPosition(b,c.column);a.selectTo(b.row,
b.column)};this.gotoPageDown=function(){var a=this.$getPageDownRow(),b=this.getCursorPositionScreen().column;this.scrollToRow(a);this.getSelection().moveCursorToScreen(a,b)};this.gotoPageUp=function(){var a=this.$getPageUpRow(),b=this.getCursorPositionScreen().column;this.scrollToRow(a);this.getSelection().moveCursorToScreen(a,b)};this.scrollPageDown=function(){this.scrollToRow(this.$getPageDownRow())};this.scrollPageUp=function(){this.renderer.scrollToRow(this.$getPageUpRow())};this.scrollToRow=
function(a){this.renderer.scrollToRow(a)};this.scrollToLine=function(a,b){this.renderer.scrollToLine(a,b)};this.centerSelection=function(){var a=this.getSelectionRange();this.renderer.scrollToLine(Math.floor(a.start.row+(a.end.row-a.start.row)/2),!0)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};
this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();this.$blockScrolling-=1};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)};this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)};this.gotoLine=function(a,b){this.selection.clearSelection();this.$blockScrolling+=1;this.moveCursorTo(a-1,b||0);this.$blockScrolling-=1;this.isRowVisible(this.getCursorPosition().row)||this.scrollToLine(a,
!0)};this.navigateTo=function(a,b){this.clearSelection();this.moveCursorTo(a,b)};this.navigateUp=function(a){this.selection.clearSelection();this.selection.moveCursorBy(-(a||1),0)};this.navigateDown=function(a){this.selection.clearSelection();this.selection.moveCursorBy(a||1,0)};this.navigateLeft=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorLeft();else this.moveCursorToPosition(this.getSelectionRange().start);this.clearSelection()};this.navigateRight=function(a){if(this.selection.isEmpty())for(a=
a||1;a--;)this.selection.moveCursorRight();else this.moveCursorToPosition(this.getSelectionRange().end);this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=
function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(a,b){b&&this.$search.set(b);var c=this.$search.find(this.session);this.$tryReplace(c,a);c!==null&&this.selection.setSelectionRange(c)};this.replaceAll=function(a,b){b&&this.$search.set(b);var c=this.$search.findAll(this.session);if(c.length){var l=this.getSelectionRange();this.clearSelection();this.selection.moveCursorTo(0,
0);this.$blockScrolling+=1;for(var k=c.length-1;k>=0;--k)this.$tryReplace(c[k],a);this.selection.setSelectionRange(l);this.$blockScrolling-=1}};this.$tryReplace=function(a,b){b=this.$search.replace(this.session.getTextRange(a),b);return b!==null?(a.end=this.session.replace(a,b),a):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(a,b){this.clearSelection();b=b||{};b.needle=a;this.$search.set(b);this.$find()};this.findNext=function(a){a=a||{};if(typeof a.backwards==
"undefined")a.backwards=!1;this.$search.set(a);this.$find()};this.findPrevious=function(a){a=a||{};if(typeof a.backwards=="undefined")a.backwards=!0;this.$search.set(a);this.$find()};this.$find=function(a){this.selection.isEmpty()||this.$search.set({needle:this.session.getTextRange(this.getSelectionRange())});typeof a!="undefined"&&this.$search.set({backwards:a});if(a=this.$search.find(this.session))this.gotoLine(a.end.row+1,a.end.column),this.selection.setSelectionRange(a)};this.undo=function(){this.session.getUndoManager().undo()};
this.redo=function(){this.session.getUndoManager().redo()}}).call(l.prototype);d.Editor=l});
defineace("pilot/event",["requireace","exports","module","pilot/keys","pilot/useragent","pilot/dom"],function(e,d){function h(b,a,k){var f=0,f=j.isOpera&&j.isMac?0|(a.metaKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.ctrlKey?8:0):0|(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0);if(k in c.MODIFIER_KEYS){switch(c.MODIFIER_KEYS[k]){case "Alt":f=2;break;case "Shift":f=4;break;case "Ctrl":f=1;break;default:f=8}k=0}if(f&8&&(k==91||k==93))k=0;if(f==0&&!(k in c.FUNCTION_KEYS))return!1;return b(a,
f,k)}var c=e("pilot/keys"),j=e("pilot/useragent"),f=e("pilot/dom");d.addListener=function(b,a,c){if(b.addEventListener)return b.addEventListener(a,c,!1);if(b.attachEvent){var f=function(){c(window.event)};c._wrapper=f;b.attachEvent("on"+a,f)}};d.removeListener=function(b,a,c){if(b.removeEventListener)return b.removeEventListener(a,c,!1);b.detachEvent&&b.detachEvent("on"+a,c._wrapper||c)};d.stopEvent=function(b){d.stopPropagation(b);d.preventDefault(b);return!1};d.stopPropagation=function(b){b.stopPropagation?
b.stopPropagation():b.cancelBubble=!0};d.preventDefault=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1};d.getDocumentX=function(b){return b.clientX?b.clientX+f.getPageScrollLeft():b.pageX};d.getDocumentY=function(b){return b.clientY?b.clientY+f.getPageScrollTop():b.pageY};d.getButton=function(b){if(b.type=="dblclick")return 0;else if(b.type=="contextmenu")return 2;return b.preventDefault?b.button:{1:0,2:2,4:1}[b.button]};d.capture=document.documentElement.setCapture?function(b,a,
c){function f(j){a&&a(j);c&&c();d.removeListener(b,"mousemove",a);d.removeListener(b,"mouseup",f);d.removeListener(b,"losecapture",f);b.releaseCapture()}d.addListener(b,"mousemove",a);d.addListener(b,"mouseup",f);d.addListener(b,"losecapture",f);b.setCapture()}:function(b,a,c){function f(b){a(b);b.stopPropagation()}function d(b){a&&a(b);c&&c();document.removeEventListener("mousemove",f,!0);document.removeEventListener("mouseup",d,!0);b.stopPropagation()}document.addEventListener("mousemove",f,!0);
document.addEventListener("mouseup",d,!0)};d.addMouseWheelListener=function(b,a){var c=function(b){b.wheelDelta!==void 0?b.wheelDeltaX!==void 0?(b.wheelX=-b.wheelDeltaX/8,b.wheelY=-b.wheelDeltaY/8):(b.wheelX=0,b.wheelY=-b.wheelDelta/8):b.axis&&b.axis==b.HORIZONTAL_AXIS?(b.wheelX=(b.detail||0)*5,b.wheelY=0):(b.wheelX=0,b.wheelY=(b.detail||0)*5);a(b)};d.addListener(b,"DOMMouseScroll",c);d.addListener(b,"mousewheel",c)};d.addMultiMouseDownListener=function(b,a,c,f,e){var h=0,l,g,m=function(b){h+=1;if(h==
1)l=b.clientX,g=b.clientY,setTimeout(function(){h=0},f||600);if(d.getButton(b)!=a||Math.abs(b.clientX-l)>5||Math.abs(b.clientY-g)>5)h=0;h==c&&(h=0,e(b));return d.preventDefault(b)};d.addListener(b,"mousedown",m);j.isIE&&d.addListener(b,"dblclick",m)};d.addCommandKeyListener=function(b,a){var c=d.addListener;if(j.isOldGecko){var f=null;c(b,"keydown",function(a){f=a.keyCode});c(b,"keypress",function(b){return h(a,b,f)})}else{var e=null;c(b,"keydown",function(b){e=b.keyIdentifier||b.keyCode;return h(a,
b,b.keyCode)});j.isMac&&j.isOpera&&c(b,"keypress",function(b){if(e!==(b.keyIdentifier||b.keyCode))return h(a,b,b.keyCode);else e=null})}}});
defineace("pilot/dom",["requireace","exports","module"],function(e,d){d.createElement=function(d,c){return document.createElementNS?document.createElementNS(c||"http://www.w3.org/1999/xhtml",d):document.createElement(d)};d.setText=function(d,c){if(d.innerText!==void 0)d.innerText=c;if(d.textContent!==void 0)d.textContent=c};document.documentElement.classList?(d.hasCssClass=function(d,c){return d.classList.contains(c)},d.addCssClass=function(d,c){d.classList.add(c)},d.removeCssClass=function(d,c){d.classList.remove(c)},
d.toggleCssClass=function(d,c){return d.classList.toggle(c)}):(d.hasCssClass=function(d,c){return d.className.split(/\s+/g).indexOf(c)!==-1},d.addCssClass=function(e,c){d.hasCssClass(e,c)||(e.className+=" "+c)},d.removeCssClass=function(d,c){for(var j=d.className.split(/\s+/g);;){var f=j.indexOf(c);if(f==-1)break;j.splice(f,1)}d.className=j.join(" ")},d.toggleCssClass=function(d,c){for(var j=d.className.split(/\s+/g),f=!0;;){var b=j.indexOf(c);if(b==-1)break;f=!1;j.splice(b,1)}f&&j.push(c);d.className=
j.join(" ");return f});d.setCssClass=function(e,c,j){j?d.addCssClass(e,c):d.removeCssClass(e,c)};d.importCssString=function(d,c){c=c||document;if(c.createStyleSheet&&(!dojo.isIE||dojo.isIE<9))c.createStyleSheet().cssText=d;else{var j=c.createElementNS?c.createElementNS("http://www.w3.org/1999/xhtml","style"):c.createElement("style");j.appendChild(c.createTextNode(d));(c.getElementsByTagName("head")[0]||c.documentElement).appendChild(j)}};d.getInnerWidth=function(e){return parseInt(d.computedStyle(e,
"paddingLeft"))+parseInt(d.computedStyle(e,"paddingRight"))+e.clientWidth};d.getInnerHeight=function(e){return parseInt(d.computedStyle(e,"paddingTop"))+parseInt(d.computedStyle(e,"paddingBottom"))+e.clientHeight};window.pageYOffset!==void 0?(d.getPageScrollTop=function(){return window.pageYOffset},d.getPageScrollLeft=function(){return window.pageXOffset}):(d.getPageScrollTop=function(){return document.body.scrollTop},d.getPageScrollLeft=function(){return document.body.scrollLeft});d.computedStyle=
function(d,c){return window.getComputedStyle?(window.getComputedStyle(d,"")||{})[c]||"":d.currentStyle[c]};d.scrollbarWidth=function(){var e=d.createElement("p");e.style.width="100%";e.style.height="200px";var c=d.createElement("div"),j=c.style;j.position="absolute";j.left="-10000px";j.overflow="hidden";j.width="200px";j.height="150px";c.appendChild(e);var f=document.body||document.documentElement;f.appendChild(c);var b=e.offsetWidth;j.overflow="scroll";e=e.offsetWidth;if(b==e)e=c.clientWidth;f.removeChild(c);
return b-e};d.setInnerHtml=function(d,c){var e=d.cloneNode(!1);e.innerHTML=c;d.parentNode.replaceChild(e,d);return e};d.setInnerText=function(d,c){document.body&&"textContent"in document.body?d.textContent=c:d.innerText=c};d.getInnerText=function(d){return document.body&&"textContent"in document.body?d.textContent:d.innerText||d.textContent||""};d.getParentWindow=function(d){return d.defaultView||d.parentWindow};d.getSelectionStart=function(d){var c;try{c=d.selectionStart||0}catch(e){c=0}return c};
d.setSelectionStart=function(d,c){return d.selectionStart=c};d.getSelectionEnd=function(d){var c;try{c=d.selectionEnd||0}catch(e){c=0}return c};d.setSelectionEnd=function(d,c){return d.selectionEnd=c}});
defineace("ace/keyboard/textinput",["requireace","exports","module","pilot/event","pilot/useragent","pilot/dom"],function(e,d){var h=e("pilot/event"),c=e("pilot/useragent"),j=e("pilot/dom");d.TextInput=function(f,b){function a(a){if(!q&&(a=a||k.value))if(a.charCodeAt(a.length-1)==d.charCodeAt(0)){if(a=a.slice(0,-1))b.onTextInput(a)}else b.onTextInput(a);q=!1;k.value=d;try{k.select()}catch(c){}}var k=j.createElement("textarea");k.style.left="-10000px";f.appendChild(k);var d=String.fromCharCode(0);
a();var e=!1,q=!1,l="",g=function(){c.isIE&&k.value.charCodeAt(0)>128||setTimeout(function(){e||a()},0)},m=function(){e=!0;if(!c.isIE)a(),k.value="";b.onCompositionStart();c.isGecko||setTimeout(t,0)},t=function(){if(e)b.onCompositionUpdate(k.value)},s=function(){e=!1;b.onCompositionEnd();setTimeout(function(){a()},0)},o=function(c){q=!0;var l=b.getCopyText();l?k.value=l:c.preventDefault();try{k.select()}catch(g){}setTimeout(function(){a()},0)},u=function(c){q=!0;var l=b.getCopyText();l?(k.value=l,
b.onCut()):c.preventDefault();try{k.select()}catch(g){}setTimeout(function(){a()},0)};h.addCommandKeyListener(k,b.onCommandKey.bind(b));h.addListener(k,"keypress",g);if(c.isIE){var v={13:1,27:1};h.addListener(k,"keyup",function(a){e&&(!k.value||v[a.keyCode])&&setTimeout(s,0);(k.value.charCodeAt(0)|0)<129||(e?t():m())})}h.addListener(k,"textInput",g);h.addListener(k,"paste",function(b){b.clipboardData&&b.clipboardData.getData?(a(b.clipboardData.getData("text/plain")),b.preventDefault()):g()});c.isIE||
h.addListener(k,"propertychange",g);c.isIE?(h.addListener(k,"beforecopy",function(a){var c=b.getCopyText();c?clipboardData.setData("Text",c):a.preventDefault()}),h.addListener(f,"keydown",function(a){if(a.ctrlKey&&a.keyCode==88){var c=b.getCopyText();c&&(clipboardData.setData("Text",c),b.onCut());h.preventDefault(a)}})):(h.addListener(k,"copy",o),h.addListener(k,"cut",u));h.addListener(k,"compositionstart",m);c.isGecko&&h.addListener(k,"text",t);c.isWebKit&&h.addListener(k,"keyup",t);h.addListener(k,
"compositionend",s);h.addListener(k,"blur",function(){b.onBlur()});h.addListener(k,"focus",function(){b.onFocus();try{k.select()}catch(a){}});this.focus=function(){b.onFocus();try{k.select()}catch(a){}k.focus()};this.blur=function(){k.blur()};this.getElement=function(){return k};this.onContextMenu=function(a,b){if(a){if(!l)l=k.style.cssText;k.style.cssText="position:fixed; z-index:1000;left:"+(a.x-2)+"px; top:"+(a.y-2)+"px;"}if(b)k.value=""};this.onContextMenuClose=function(){setTimeout(function(){if(l)k.style.cssText=
l,l="";a()},0)}}});
defineace("ace/mouse_handler",["requireace","exports","module","pilot/event","pilot/dom"],function(e,d){var h=e("pilot/event"),c=e("pilot/dom"),j=1,f=function(b){this.editor=b;h.addListener(b.container,"mousedown",function(a){b.focus();return h.preventDefault(a)});h.addListener(b.container,"selectstart",function(a){return h.preventDefault(a)});var a=b.renderer.getMouseEventTarget();h.addListener(a,"mousedown",this.onMouseDown.bind(this));h.addMultiMouseDownListener(a,0,2,500,this.onMouseDoubleClick.bind(this));h.addMultiMouseDownListener(a,
0,3,600,this.onMouseTripleClick.bind(this));h.addMultiMouseDownListener(a,0,4,600,this.onMouseQuadClick.bind(this));h.addMouseWheelListener(a,this.onMouseWheel.bind(this))};(function(){this.$scrollSpeed=1;this.setScrollSpeed=function(b){this.$scrollSpeed=b};this.getScrollSpeed=function(){return this.$scrollSpeed};this.$getEventPosition=function(b){var a=h.getDocumentX(b),b=h.getDocumentY(b),a=this.editor.renderer.screenToTextCoordinates(a,b);a.row=Math.max(0,Math.min(a.row,this.editor.session.getLength()-
1));return a};this.$distance=function(b,a,c,f){return Math.sqrt(Math.pow(c-b,2)+Math.pow(f-a,2))};this.onMouseDown=function(b){function a(a){b.shiftKey?e.selection.selectToPosition(a):l.$clickSelection||(e.moveCursorToPosition(a),e.selection.clearSelection(a.row,a.column));t=j}var k=h.getDocumentX(b),f=h.getDocumentY(b),d=this.$getEventPosition(b),e=this.editor,l=this,g=e.getSelectionRange(),m=g.isEmpty(),t=0,s=!1,s=h.getButton(b);if(s!==0)m&&e.moveCursorToPosition(d),s==2&&(e.textInput.onContextMenu({x:k,
y:f},m),h.capture(e.container,function(){},e.textInput.onContextMenuClose));else{(s=!e.getReadOnly()&&!m&&g.contains(d.row,d.column))||a(d);e.renderer.scrollCursorIntoView();var o,u;e.getOverwrite();var v=(new Date).getTime(),r,w;h.capture(e.container,function(a){o=h.getDocumentX(a);u=h.getDocumentY(a)},function(){clearInterval(x);if(t==2&&(c.removeCssClass(e.container,"ace_dragging"),e.session.removeMarker(dragSelectionMarker),!l.$clickSelection&&!r&&(e.moveCursorToPosition(d),e.selection.clearSelection(d.row,
d.column)),r))if(w.contains(r.row,r.column))r=null;else{e.clearSelection();var a=e.moveText(w,r);a?e.selection.setSelectionRange(a):r=null}l.$clickSelection=null;t=0});var x=setInterval(function(){if(!(o===void 0||u===void 0)){if(t==0){var b=l.$distance(k,f,o,u),g=(new Date).getTime();b>5?(t=j,b=e.renderer.screenToTextCoordinates(o,u),b.row=Math.max(0,Math.min(b.row,e.session.getLength()-1)),a(b)):g-v>250&&(t=2,w=e.getSelectionRange(),b=e.getSelectionStyle(),dragSelectionMarker=e.session.addMarker(w,
"ace_selection",b),e.clearSelection(),c.addCssClass(e.container,"ace_dragging"))}if(t==2)r=e.renderer.screenToTextCoordinates(o,u),r.row=Math.max(0,Math.min(r.row,e.session.getLength()-1)),e.moveCursorToPosition(r);else if(t==j)b=e.renderer.screenToTextCoordinates(o,u),b.row=Math.max(0,Math.min(b.row,e.session.getLength()-1)),l.$clickSelection?l.$clickSelection.contains(b.row,b.column)?e.selection.setSelectionRange(l.$clickSelection):(g=l.$clickSelection.compare(b.row,b.column)==-1?l.$clickSelection.end:
l.$clickSelection.start,e.selection.setSelectionAnchor(g.row,g.column),e.selection.selectToPosition(b)):e.selection.selectToPosition(b),e.renderer.scrollCursorIntoView()}},20);return h.preventDefault(b)}};this.onMouseDoubleClick=function(b){this.editor.moveCursorToPosition(this.$getEventPosition(b));this.editor.selection.selectWord();this.$clickSelection=this.editor.getSelectionRange()};this.onMouseTripleClick=function(b){this.editor.moveCursorToPosition(this.$getEventPosition(b));this.editor.selection.selectLine();
this.$clickSelection=this.editor.getSelectionRange()};this.onMouseQuadClick=function(){this.editor.selectAll();this.$clickSelection=this.editor.getSelectionRange()};this.onMouseWheel=function(b){var a=this.$scrollSpeed*2;this.editor.renderer.scrollBy(b.wheelX*a,b.wheelY*a);return h.preventDefault(b)}}).call(f.prototype);d.MouseHandler=f});
defineace("ace/keyboard/keybinding",["requireace","exports","module","pilot/useragent","pilot/keys","pilot/event","pilot/settings","pilot/canon","ace/commands/default_commands"],function(e,d){e("pilot/useragent");var h=e("pilot/keys"),c=e("pilot/event");e("pilot/settings");var j=e("pilot/canon");e("ace/commands/default_commands");var f=function(b){this.$editor=b;this.$data={};this.$keyboardHandler=null};(function(){this.setKeyboardHandler=function(b){if(this.$keyboardHandler!=b)this.$data={},this.$keyboardHandler=
b};this.getKeyboardHandler=function(){return this.$keyboardHandler};this.$callKeyboardHandler=function(b,a,k,f){var d={editor:this.$editor},e;this.$keyboardHandler&&(e=this.$keyboardHandler.handleKeyboard(this.$data,a,k,f,b));if(!e||!e.command)e=a!=0||f!=0?{command:j.findKeyCommand(d,"editor",a,k)}:{command:"inserttext",args:{text:k}};if(e&&j.exec(e.command,d,"editor",e.args))return c.stopEvent(b)};this.onCommandKey=function(b,a,c){var f=h.keyCodeToString(c);this.$callKeyboardHandler(b,a,f,c)};this.onTextInput=
function(b){this.$callKeyboardHandler({},0,b,0)}}).call(f.prototype);d.KeyBinding=f});
defineace("ace/commands/default_commands",["requireace","exports","module","pilot/lang","pilot/canon"],function(e){function d(c,d){return{win:c,mac:d,sender:"editor"}}var h=e("pilot/lang"),e=e("pilot/canon");e.addCommand({name:"null",exec:function(){}});e.addCommand({name:"selectall",bindKey:d("Ctrl-A","Command-A"),exec:function(c){c.editor.selectAll()}});e.addCommand({name:"removeline",bindKey:d("Ctrl-D","Command-D"),exec:function(c){c.editor.removeLines()}});e.addCommand({name:"gotoline",bindKey:d("Ctrl-L",
"Command-L|Ctrl-L"),exec:function(c){if(c.editor.owner)c.editor.owner.promptGotoLine();else{var d=parseInt(prompt("Enter line number:"));isNaN(d)||c.editor.gotoLine(d)}}});e.addCommand({name:"togglecomment",bindKey:d("Ctrl-7","Command-7|Ctrl-7"),exec:function(c){c.editor.toggleCommentLines()}});e.addCommand({name:"findnext",bindKey:d("Ctrl-K","Command-G|Ctrl-G"),exec:function(c){c.editor.findNext()}});e.addCommand({name:"findprevious",bindKey:d("Ctrl-Shift-K","Command-Shift-G|Ctrl-Shift-G"),exec:function(c){c.editor.findPrevious()}});
e.addCommand({name:"find",bindKey:d("Ctrl-F","Command-F|Ctrl-F"),exec:function(c){if(c.editor.owner)if(c.editor.owner._searchDialog&&c.editor.owner._searchDialog.showing&&c.editor.owner._searchEditor.getDataValue())c.editor.owner.onFindClick();else c.editor.owner.showSearch();else{var d=prompt("Find:");c.editor.find(d)}}});e.addCommand({name:"replace",bindKey:d("Ctrl-R","Command-Option-F|Ctrl-R"),exec:function(c){var d=prompt("Find:");if(d){var f=prompt("Replacement:");f&&c.editor.replace(f,{needle:d})}}});
e.addCommand({name:"undo",bindKey:d("Ctrl-Z","Command-Z|Ctrl-Z"),exec:function(c){c.editor.undo()}});e.addCommand({name:"redo",bindKey:d("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y|Ctrl-Y"),exec:function(c){c.editor.redo()}});e.addCommand({name:"overwrite",bindKey:d("Insert","Insert"),exec:function(c){c.editor.toggleOverwrite()}});e.addCommand({name:"copylinesup",bindKey:d("Ctrl-Alt-Up","Command-Option-Up"),exec:function(c){c.editor.copyLinesUp()}});e.addCommand({name:"movelinesup",bindKey:d("Alt-Up",
"Option-Up"),exec:function(c){c.editor.moveLinesUp()}});e.addCommand({name:"selecttostart",bindKey:d("Alt-Shift-Up","Command-Shift-Up"),exec:function(c){c.editor.getSelection().selectFileStart()}});e.addCommand({name:"gotostart",bindKey:d("Ctrl-Home|Ctrl-Up","Command-Home|Command-Up"),exec:function(c){c.editor.navigateFileStart()}});e.addCommand({name:"selectup",bindKey:d("Shift-Up","Shift-Up"),exec:function(c){c.editor.getSelection().selectUp()}});e.addCommand({name:"golineup",bindKey:d("Up","Up|Ctrl-P"),
exec:function(c,d){c.editor.navigateUp(d.times)}});e.addCommand({name:"copylinesdown",bindKey:d("Ctrl-Alt-Down","Command-Option-Down"),exec:function(c){c.editor.copyLinesDown()}});e.addCommand({name:"movelinesdown",bindKey:d("Alt-Down","Option-Down"),exec:function(c){c.editor.moveLinesDown()}});e.addCommand({name:"selecttoend",bindKey:d("Alt-Shift-Down","Command-Shift-Down"),exec:function(c){c.editor.getSelection().selectFileEnd()}});e.addCommand({name:"gotoend",bindKey:d("Ctrl-End|Ctrl-Down","Command-End|Command-Down"),
exec:function(c){c.editor.navigateFileEnd()}});e.addCommand({name:"selectdown",bindKey:d("Shift-Down","Shift-Down"),exec:function(c){c.editor.getSelection().selectDown()}});e.addCommand({name:"golinedown",bindKey:d("Down","Down|Ctrl-N"),exec:function(c,d){c.editor.navigateDown(d.times)}});e.addCommand({name:"selectwordleft",bindKey:d("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.editor.getSelection().selectWordLeft()}});e.addCommand({name:"gotowordleft",bindKey:d("Ctrl-Left","Option-Left"),
exec:function(c){c.editor.navigateWordLeft()}});e.addCommand({name:"selecttolinestart",bindKey:d("Alt-Shift-Left","Command-Shift-Left"),exec:function(c){c.editor.getSelection().selectLineStart()}});e.addCommand({name:"gotolinestart",bindKey:d("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.editor.navigateLineStart()}});e.addCommand({name:"selectleft",bindKey:d("Shift-Left","Shift-Left"),exec:function(c){c.editor.getSelection().selectLeft()}});e.addCommand({name:"gotoleft",bindKey:d("Left",
"Left|Ctrl-B"),exec:function(c,d){c.editor.navigateLeft(d.times)}});e.addCommand({name:"selectwordright",bindKey:d("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.editor.getSelection().selectWordRight()}});e.addCommand({name:"gotowordright",bindKey:d("Ctrl-Right","Option-Right"),exec:function(c){c.editor.navigateWordRight()}});e.addCommand({name:"selecttolineend",bindKey:d("Alt-Shift-Right","Command-Shift-Right"),exec:function(c){c.editor.getSelection().selectLineEnd()}});e.addCommand({name:"gotolineend",
bindKey:d("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.editor.navigateLineEnd()}});e.addCommand({name:"selectright",bindKey:d("Shift-Right","Shift-Right"),exec:function(c){c.editor.getSelection().selectRight()}});e.addCommand({name:"gotoright",bindKey:d("Right","Right"),exec:function(c,d){c.editor.navigateRight(d.times)}});e.addCommand({name:"selectpagedown",bindKey:d("Shift-PageDown","Shift-PageDown"),exec:function(c){c.editor.selectPageDown()}});e.addCommand({name:"pagedown",bindKey:d(null,
"PageDown"),exec:function(c){c.editor.scrollPageDown()}});e.addCommand({name:"gotopagedown",bindKey:d("PageDown","Option-PageDown|Ctrl-V"),exec:function(c){c.editor.gotoPageDown()}});e.addCommand({name:"selectpageup",bindKey:d("Shift-PageUp","Shift-PageUp"),exec:function(c){c.editor.selectPageUp()}});e.addCommand({name:"pageup",bindKey:d(null,"PageUp"),exec:function(c){c.editor.scrollPageUp()}});e.addCommand({name:"gotopageup",bindKey:d("PageUp","Option-PageUp"),exec:function(c){c.editor.gotoPageUp()}});
e.addCommand({name:"selectlinestart",bindKey:d("Shift-Home","Shift-Home"),exec:function(c){c.editor.getSelection().selectLineStart()}});e.addCommand({name:"selectlineend",bindKey:d("Shift-End","Shift-End"),exec:function(c){c.editor.getSelection().selectLineEnd()}});e.addCommand({name:"del",bindKey:d("Delete","Delete|Ctrl-D"),exec:function(c){c.editor.removeRight()}});e.addCommand({name:"backspace",bindKey:d("Ctrl-Backspace|Command-Backspace|Option-Backspace|Shift-Backspace|Backspace","Ctrl-Backspace|Command-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec:function(c){c.editor.removeLeft()}});e.addCommand({name:"removetolinestart",bindKey:d(null,"Option-Backspace"),exec:function(c){c.editor.removeToLineStart()}});e.addCommand({name:"removetolineend",bindKey:d(null,"Ctrl-K"),exec:function(c){c.editor.removeToLineEnd()}});e.addCommand({name:"removewordleft",bindKey:d(null,"Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.editor.removeWordLeft()}});e.addCommand({name:"removewordright",bindKey:d(null,"Alt-Delete"),exec:function(c){c.editor.removeWordRight()}});
e.addCommand({name:"outdent",bindKey:d("Shift-Tab","Shift-Tab"),exec:function(c){c.editor.blockOutdent()}});e.addCommand({name:"indent",bindKey:d("Tab","Tab"),exec:function(c){c.editor.indent()}});e.addCommand({name:"inserttext",exec:function(c,d){c.editor.insert(h.stringRepeat(d.text||"",d.times||1))}});e.addCommand({name:"splitline",bindKey:d(null,"Ctrl-O"),exec:function(c){c.editor.splitLine()}});e.addCommand({name:"transposeletters",bindKey:d("Ctrl-T","Ctrl-T"),exec:function(c){c.editor.transposeLetters()}})});
defineace("ace/edit_session",["requireace","exports","module","pilot/oop","pilot/lang","pilot/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer"],function(e,d){var h=e("pilot/oop"),c=e("pilot/lang"),j=e("pilot/event_emitter").EventEmitter,f=e("ace/selection").Selection,b=e("ace/mode/text").Mode,a=e("ace/range").Range,k=e("ace/document").Document,n=e("ace/background_tokenizer").BackgroundTokenizer,p=function(a,c){this.$modified=!0;this.$breakpoints=
[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$wrapData=[];a instanceof k?this.setDocument(a):this.setDocument(new k(a));this.selection=new f(this);c?this.setMode(c):this.setMode(new b)};(function(){function b(a){if(a<4352)return!1;return a>=4352&&a<=4447||a>=4515&&a<=4519||a>=4602&&a<=4607||a>=9001&&a<=9002||a>=11904&&a<=11929||a>=11931&&a<=12019||a>=12032&&a<=12245||a>=12272&&a<=12283||a>=12288&&a<=12350||a>=12353&&a<=12438||a>=12441&&a<=12543||a>=12549&&a<=12589||a>=12593&&
a<=12686||a>=12688&&a<=12730||a>=12736&&a<=12771||a>=12784&&a<=12830||a>=12832&&a<=12871||a>=12880&&a<=13054||a>=13056&&a<=19903||a>=19968&&a<=42124||a>=42128&&a<=42182||a>=43360&&a<=43388||a>=44032&&a<=55203||a>=55216&&a<=55238||a>=55243&&a<=55291||a>=63744&&a<=64255||a>=65040&&a<=65049||a>=65072&&a<=65106||a>=65108&&a<=65126||a>=65128&&a<=65131||a>=65281&&a<=65376||a>=65504&&a<=65510}h.implement(this,j);this.setDocument=function(a){if(this.doc)throw Error("Document is already set");this.doc=a;a.on("change",
this.onChange.bind(this))};this.getDocument=function(){return this.doc};this.onChange=function(a){var b=a.data;this.$modified=!0;!this.$fromUndo&&this.$undoManager&&!b.ignore&&(this.$deltas.push(b),this.$informUndoManager.schedule());this.$updateWrapDataOnChange(a);this.bgTokenizer.start(b.range.start.row);this._dispatchEvent("change",a)};this.setValue=function(a){this.doc.setValue(a);this.$deltas=[];this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};
this.getSelection=function(){return this.selection};this.getState=function(a){return this.bgTokenizer.getState(a)};this.getTokens=function(a,b){return this.bgTokenizer.getTokens(a,b)};this.setUndoManager=function(a){this.$undoManager=a;this.$deltas=[];this.$informUndoManager&&this.$informUndoManager.cancel();if(a){var b=this;this.$informUndoManager=c.deferredCall(function(){b.$deltas.length>0&&a.execute({action:"aceupdate",args:[b.$deltas,b]});b.$deltas=[]})}};this.$defaultUndoManager={undo:function(){},
redo:function(){},reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?c.stringRepeat(" ",this.getTabSize()):"\t"};this.$useSoftTabs=!0;this.setUseSoftTabs=function(a){if(this.$useSoftTabs!==a)this.$useSoftTabs=a};this.getUseSoftTabs=function(){return this.$useSoftTabs};this.$tabSize=4;this.setTabSize=function(a){if(!(isNaN(a)||this.$tabSize===a))this.$modified=!0,this.$tabSize=a,this._dispatchEvent("changeTabSize")};
this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(a){return this.$useSoftTabs&&a.column%this.$tabSize==0};this.$overwrite=!1;this.setOverwrite=function(a){if(this.$overwrite!=a)this.$overwrite=a,this._dispatchEvent("changeOverwrite")};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<
a.length;b++)this.$breakpoints[a[b]]=!0;this._dispatchEvent("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._dispatchEvent("changeBreakpoint",{})};this.setBreakpoint=function(a){this.$breakpoints[a]=!0;this._dispatchEvent("changeBreakpoint",{})};this.clearBreakpoint=function(a){delete this.$breakpoints[a];this._dispatchEvent("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.addMarker=function(a,b,c,d){var k=this.$markerId++,a=
{range:a,type:c||"line",renderer:typeof c=="function"?c:null,clazz:b,inFront:!!d};d?(this.$frontMarkers[k]=a,this._dispatchEvent("changeFrontMarker")):(this.$backMarkers[k]=a,this._dispatchEvent("changeBackMarker"));return k};this.removeMarker=function(a){var b=this.$frontMarkers[a]||this.$backMarkers[a];if(b){var c=b.inFront?this.$frontMarkers:this.$backMarkers;b&&(delete c[a],this._dispatchEvent(b.inFront?"changeFrontMarker":"changeBackMarker"))}};this.getMarkers=function(a){return a?this.$frontMarkers:
this.$backMarkers};this.setAnnotations=function(a){this.$annotations={};for(var b=0;b<a.length;b++){var c=a[b],d=c.row;this.$annotations[d]?this.$annotations[d].push(c):this.$annotations[d]=[c]}this._dispatchEvent("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations};this.clearAnnotations=function(){this.$annotations={};this._dispatchEvent("changeAnnotation",{})};this.$detectNewLine=function(a){this.$autoNewLine=(a=a.match(/^.*?(\r?\n)/m))?a[1]:"\n"};this.tokenRe=/^[\w\d]+/g;
this.nonTokenRe=/^(?:[^\w\d]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF])+/g;this.getWordRange=function(b,c){var d=this.getLine(b),k=!1;c>0&&(k=!!d.charAt(c-1).match(this.tokenRe));k||(k=!!d.charAt(c).match(this.tokenRe));var k=k?this.tokenRe:this.nonTokenRe,f=c;if(f>0){do f--;while(f>=0&&d.charAt(f).match(k));f++}for(var e=c;e<d.length&&d.charAt(e).match(k);)e++;return new a(b,f,b,e)};this.setNewLineMode=function(a){this.doc.setNewLineMode(a)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};
this.$useWorker=!0;this.setUseWorker=function(a){if(this.$useWorker!=a){if(a&&!this.$worker&&window.Worker)this.$worker=mode.createWorker(this);if(!a&&this.$worker)this.$worker.terminate(),this.$worker=null;this.$useWorker=a}};this.getUseWorker=function(){return this.$useWorker};this.$mode=null;this.setMode=function(a){if(this.$mode!==a){this.$worker&&this.$worker.terminate();this.$worker=this.$useWorker&&typeof Worker!=="undefined"&&!e.noWorker?a.createWorker(this):null;var b=a.getTokenizer();if(this.bgTokenizer)this.bgTokenizer.setTokenizer(b);
else{this.bgTokenizer=new n(b);var c=this;this.bgTokenizer.addEventListener("update",function(a){c._dispatchEvent("tokenizerUpdate",a)})}this.bgTokenizer.setDocument(this.getDocument());this.bgTokenizer.start(0);this.$mode=a;this._dispatchEvent("changeMode")}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTopRow=function(a){if(this.$scrollTop!==a)this.$scrollTop=a,this._dispatchEvent("changeScrollTop")};this.getScrollTopRow=function(){return this.$scrollTop};this.getWidth=
function(){this.$computeWidth();return this.width};this.getScreenWidth=function(){this.$computeWidth();return this.screenWidth};this.$computeWidth=function(a){if(this.$modified||a){this.$modified=!1;for(var a=this.doc.getAllLines(),b=0,c=0,d=0;d<a.length;d++)var k=a[d],f=k.length,k=this.$getStringScreenWidth(k),b=Math.max(b,f),c=Math.max(c,k);this.width=b;this.screenWidth=this.$useWrapMode?this.$wrapLimit:c}};this.getLine=function(a){return this.doc.getLine(a)};this.getLines=function(a,b){return this.doc.getLines(a,
b)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(a){return this.doc.getTextRange(a)};this.findMatchingBracket=function(a){if(a.column==0)return null;var b=this.getLine(a.row).charAt(a.column-1);if(b=="")return null;b=b.match(/([\(\[\{])|([\)\]\}])/);if(!b)return null;return b[1]?this.$findClosingBracket(b[1],a):this.$findOpeningBracket(b[2],a)};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(a,b){for(var c=this.$brackets[a],
d=b.column-2,k=b.row,f=1,e=this.getLine(k);;){for(;d>=0;){var j=e.charAt(d);if(j==c){if(f-=1,f==0)return{row:k,column:d}}else j==a&&(f+=1);d-=1}k-=1;if(k<0)break;e=this.getLine(k);d=e.length-1}return null};this.$findClosingBracket=function(a,b){for(var c=this.$brackets[a],d=b.column,k=b.row,f=1,e=this.getLine(k),j=this.getLength();;){for(;d<e.length;){var n=e.charAt(d);if(n==c){if(f-=1,f==0)return{row:k,column:d}}else n==a&&(f+=1);d+=1}k+=1;if(k>=j)break;e=this.getLine(k);d=0}return null};this.insert=
function(a,b){return this.doc.insert(a,b)};this.remove=function(a){return this.doc.remove(a)};this.undoChanges=function(a){if(a.length)this.$fromUndo=!0,this.doc.revertDeltas(a),this.$fromUndo=!1,this.$setUndoSelection(a,!0)};this.redoChanges=function(a){if(a.length)this.$fromUndo=!0,this.doc.applyDeltas(a),this.$fromUndo=!1,this.$setUndoSelection(a,!1)};this.$setUndoSelection=function(b,c){c&&(b=b.map(function(a){var b={range:a.range};b.action=a.action=="insertText"||a.action=="insertLines"?"removeText":
"insertText";return b}).reverse());for(var d=[{}],k=0;k<b.length;k++){var f=b[k],e=f.action=="insertText"||f.action=="insertLines",j=d[d.length-1];j.isInsert!==e?d.push({isInsert:e,start:e?f.range.start:f.range.end,end:e?f.range.end:f.range.start}):e?j.end=f.range.end:j.start=f.range.start}this.selection.clearSelection();j=d[d.length-1];j.isInsert?this.selection.setSelectionRange(a.fromPoints(j.start,j.end)):this.selection.moveCursorToPosition(j.end)};this.replace=function(a,b){return this.doc.replace(a,
b)};this.moveText=function(b,c){var d=this.getTextRange(b);this.remove(b);var k=c.row,f=c.column;!b.isMultiLine()&&b.start.row==k&&b.end.column<f&&(f-=d.length);if(b.isMultiLine()&&b.end.row<k){var e=this.doc.$split(d);k-=e.length-1}var e=k+b.end.row-b.start.row,j=b.isMultiLine()?b.end.column:f+b.end.column-b.start.column,k=new a(k,f,e,j);this.insert(k.start,d);return k};this.indentRows=function(a,b,c){for(c=c.replace(/\t/g,this.getTabString());a<=b;a++)this.insert({row:a,column:0},c)};this.outdentRows=
function(b){for(var b=b.collapseRows(),c=new a(0,0,0,0),d=this.getTabSize(),k=b.start.row;k<=b.end.row;++k){var f=this.getLine(k);c.start.row=k;c.end.row=k;for(var e=0;e<d;++e)if(f.charAt(e)!=" ")break;e<d&&f.charAt(e)=="\t"?(c.start.column=e,c.end.column=e+1):(c.start.column=0,c.end.column=e);this.remove(c)}};this.moveLinesUp=function(a,b){if(a<=0)return 0;var c=this.doc.removeLines(a,b);this.doc.insertLines(a-1,c);return-1};this.moveLinesDown=function(a,b){if(b>=this.doc.getLength()-1)return 0;
var c=this.doc.removeLines(a,b);this.doc.insertLines(a+1,c);return 1};this.duplicateLines=function(a,b){var a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b),c=this.getLines(a,b);this.doc.insertLines(a,c);return b-a+1};this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(a){if(a!=this.$useWrapMode){this.$useWrapMode=a;this.$modified=!0;if(a){a=
this.getLength();this.$wrapData=[];for(i=0;i<a;i++)this.$wrapData.push([]);this.$updateWrapData(0,a-1)}this._dispatchEvent("changeWrapMode")}};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(a,b){if(this.$wrapLimitRange.min!==a||this.$wrapLimitRange.max!==b)this.$wrapLimitRange.min=a,this.$wrapLimitRange.max=b,this.$modified=!0,this._dispatchEvent("changeWrapMode")};this.adjustWrapLimit=function(a){a=this.$constrainWrapLimit(a);if(a!=this.$wrapLimit&&a>0)return this.$wrapLimit=
a,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this._dispatchEvent("changeWrapLimit")),!0;return!1};this.$constrainWrapLimit=function(a){var b=this.$wrapLimitRange.min;b&&(a=Math.max(b,a));(b=this.$wrapLimitRange.max)&&(a=Math.min(b,a));return Math.max(1,a)};this.getWrapLimit=function(){return this.$wrapLimit};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateWrapDataOnChange=function(a){if(this.$useWrapMode){var b=
a.data.action,c=a.data.range.start.row,d=a.data.range.end.row;b.indexOf("Lines")!=-1?(d=b=="insertLines"?c+a.data.lines.length:c,a=a.data.lines.length):a=d-c;if(a!=0)if(b.indexOf("remove")!=-1)this.$wrapData.splice(c,a),d=c;else{for(var b=[c,0],k=0;k<a;k++)b.push([]);this.$wrapData.splice.apply(this.$wrapData,b)}this.$wrapData.length!=this.doc.$lines.length&&console.error("The length of doc.$lines and $wrapData have to be the same!");this.$updateWrapData(c,d)}};this.$updateWrapData=function(a,b){for(var c=
this.doc.getAllLines(),d=this.getTabSize(),k=this.$wrapData,f=this.$wrapLimit,e=a;e<=b;e++)k[e]=this.$computeWrapSplits(c[e],f,d)};this.$computeWrapSplits=function(a,b){function d(a){var b=f.slice(j,a),c=b.length;b.join("").replace(/5/g,function(){c-=1}).replace(/2/g,function(){c-=1});n+=c;k.push(n);j=a}a=c.stringTrimRight(a);if(a.length==0)return[];this.getTabSize();for(var k=[],f=this.$getDisplayTokens(a),e=f.length,j=0,n=0;e-j>b;){var h=j+b;if(f[h]>=3){for(;f[h]>=3;)h++;d(h)}else{for(;h!=j-1;h--)if(f[h]>=
3){h++;break}h>j?d(h):d(j+b)}}return k};this.$getDisplayTokens=function(a){for(var c=[],d,k=0;k<a.length;k++)if(d=a.charCodeAt(k),d==9){d=this.getScreenTabSize(c.length);c.push(4);for(var f=1;f<d;f++)c.push(5)}else d==32?c.push(3):b(d)?c.push(1,2):c.push(1);return c};this.$getStringScreenWidth=function(a){var c=0;this.getTabSize();for(var d=0;d<a.length;d++){var k=a.charCodeAt(d);c+=k==9?this.getScreenTabSize(c):b(k)?2:1}return c};this.getRowHeight=function(a,b){return(!this.$useWrapMode||!this.$wrapData[b]?
1:this.$wrapData[b].length+1)*a.lineHeight};this.getScreenLastRowColumn=function(a,b){if(!this.$useWrapMode)return this.$getStringScreenWidth(this.getLine(a));var c=this.$screenToDocumentRow(a),d=c[0],c=c[1],k,f;this.$wrapData[d][c]?(k=this.$wrapData[d][c-1]||0,f=this.$wrapData[d][c],b&&f--):(f=this.getLine(d).length,k=this.$wrapData[d][c-1]||0);return b?f:this.$getStringScreenWidth(this.getLine(d).substring(k,f))};this.getDocumentLastRowColumn=function(a,b){if(!this.$useWrapMode)return this.getLine(a).length;
return this.getScreenLastRowColumn(this.documentToScreenRow(a,b),!0)};this.getScreenFirstRowColumn=function(a){if(!this.$useWrapMode)return 0;a=this.$screenToDocumentRow(a);return this.$wrapData[a[0]][a[1]-1]||0};this.getRowSplitData=function(a){if(this.$useWrapMode)return this.$wrapData[a]};this.$screenToDocumentRow=function(a){if(!this.$useWrapMode)return[a,0];for(var b=this.$wrapData,c=this.getLength(),d=0;d<c&&a>=b[d].length+1;)a-=b[d].length+1,d++;return[d,a]};this.screenToDocumentRow=function(a){return this.$screenToDocumentRow(a)[0]};
this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column};this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize};this.screenToDocumentPosition=function(a,c){var d,k,f,e=c;d=this.getLength();if(this.$useWrapMode){var j=this.$wrapData;for(k=0;k<d&&a>=j[k].length+1;)a-=j[k].length+1,k++;if(k>=d)k=d-1,a=j[k].length;f=j[k][a-1]||0;d=this.getLine(k).substring(f)}else k=a>=d?d-1:a<0?0:a,f=a=0,d=this.getLine(k);for(var n,h=0,p=0;p<d.length;p++)if(n=d.charCodeAt(p),
e>0)f+=1,n==9?(n=this.getScreenTabSize(h),e>=n?(e-=n,h+=n):(e=0,f-=1)):b(n)?e>=2?e-=2:(e=0,f-=1):(h+=1,e-=1);else break;this.$useWrapMode?(c=j[k][a],f>=c&&(f=c-1)):d&&(f=Math.min(f,d.length));return{row:k,column:f}};this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column};this.$documentToScreenRow=function(a,b){if(!this.$useWrapMode)return[a,0];var c=this.$wrapData,d=0;if(a>c.length-1)return[this.getScreenLength(),c.length==0?0:c[c.length-1].length-1];for(var k=
0;k<a;k++)d+=c[k].length+1;for(k=0;b>=c[a][k];)d++,k++;return[d,k]};this.documentToScreenRow=function(a,b){return this.$documentToScreenRow(a,b)[0]};this.documentToScreenPosition=function(a,b){var c;this.getTabSize();var d;b!=null?d=a:(d=a.row,b=a.column);if(!this.$useWrapMode)return c=this.getLine(d).substring(0,b),b=this.$getStringScreenWidth(c),{row:d,column:b};var k=this.$documentToScreenRow(d,b),f=k[0];if(d>=this.getLength())return{row:f,column:0};c=this.$wrapData[d];k=k[1];c=this.getLine(d).substring(c[k-
1]||0,b);d=this.$getStringScreenWidth(c);return{row:f,column:d}};this.getScreenLength=function(){if(!this.$useWrapMode)return this.getLength();for(var a=0,b=0;b<this.$wrapData.length;b++)a+=this.$wrapData[b].length+1;return a}}).call(p.prototype);d.EditSession=p});
defineace("ace/selection",["requireace","exports","module","pilot/oop","pilot/lang","pilot/event_emitter","ace/range"],function(e,d){var h=e("pilot/oop"),c=e("pilot/lang"),j=e("pilot/event_emitter").EventEmitter,f=e("ace/range").Range,b=function(a){this.session=a;this.doc=a.getDocument();this.clearSelection();this.selectionLead=this.doc.createAnchor(0,0);this.selectionAnchor=this.doc.createAnchor(0,0);var b=this;this.selectionLead.on("change",function(a){b._dispatchEvent("changeCursor");b.$isEmpty||
b._dispatchEvent("changeSelection");a.old.row==a.value.row&&b.$updateDesiredColumn()});this.selectionAnchor.on("change",function(){b.$isEmpty||b._dispatchEvent("changeSelection")})};(function(){h.implement(this,j);this.isEmpty=function(){return this.$isEmpty||this.selectionAnchor.row==this.selectionLead.row&&this.selectionAnchor.column==this.selectionLead.column};this.isMultiLine=function(){if(this.isEmpty())return!1;return this.getRange().isMultiLine()};this.getCursor=function(){return this.selectionLead.getPosition()};
this.setSelectionAnchor=function(a,b){this.selectionAnchor.setPosition(a,b);if(this.$isEmpty)this.$isEmpty=!1,this._dispatchEvent("changeSelection")};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.selectionAnchor.getPosition()};this.getSelectionLead=function(){return this.selectionLead.getPosition()};this.shiftSelection=function(a){if(this.$isEmpty)this.moveCursorTo(this.selectionLead.row,this.selectionLead.column+a);else{var b=this.getSelectionAnchor(),c=this.getSelectionLead(),
d=this.isBackwards();(!d||b.column!==0)&&this.setSelectionAnchor(b.row,b.column+a);(d||c.column!==0)&&this.$moveSelection(function(){this.moveCursorTo(c.row,c.column+a)})}};this.isBackwards=function(){var a=this.selectionAnchor,b=this.selectionLead;return a.row>b.row||a.row==b.row&&a.column>b.column};this.getRange=function(){var a=this.selectionAnchor,b=this.selectionLead;if(this.isEmpty())return f.fromPoints(b,b);return this.isBackwards()?f.fromPoints(b,a):f.fromPoints(a,b)};this.clearSelection=
function(){if(!this.$isEmpty)this.$isEmpty=!0,this._dispatchEvent("changeSelection")};this.selectAll=function(){var a=this.doc.getLength()-1;this.setSelectionAnchor(a,this.doc.getLine(a).length);this.moveCursorTo(0,0)};this.setSelectionRange=function(a,b){b?(this.setSelectionAnchor(a.end.row,a.end.column),this.selectTo(a.start.row,a.start.column)):(this.setSelectionAnchor(a.start.row,a.start.column),this.selectTo(a.end.row,a.end.column));this.$updateDesiredColumn()};this.$updateDesiredColumn=function(){var a=
this.getCursor();this.$desiredColumn=this.session.documentToScreenColumn(a.row,a.column)};this.$moveSelection=function(a){var b=this.selectionLead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column);a.call(this)};this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,b)})};this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};
this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};
this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.selectWord=function(){var a=this.getCursor();this.setSelectionRange(this.session.getWordRange(a.row,a.column))};this.selectLine=function(){this.setSelectionAnchor(this.selectionLead.row,0);this.$moveSelection(function(){this.moveCursorTo(this.selectionLead.row+1,0)})};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.moveCursorLeft=function(){var a=this.selectionLead.getPosition();
if(a.column==0)a.row>0&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length);else{var b=this.session.getTabSize();this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(a.column-b,a.column).split(" ").length-1==b?this.moveCursorBy(0,-b):this.moveCursorBy(0,-1)}};this.moveCursorRight=function(){if(this.selectionLead.column==this.doc.getLine(this.selectionLead.row).length)this.selectionLead.row<this.doc.getLength()-1&&this.moveCursorTo(this.selectionLead.row+1,0);else{var a=this.session.getTabSize(),
b=this.selectionLead;this.session.isTabStop(b)&&this.doc.getLine(b.row).slice(b.column,b.column+a).split(" ").length-1==a?this.moveCursorBy(0,a):this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var a=this.selectionLead.row,b=this.selectionLead.column,c=this.session.getScreenFirstRowColumn(this.session.documentToScreenRow(a,b)),d=this.doc.getLine(a).slice(c,b).match(/^\s*/);d[0].length==0?(b=this.session.getDocumentLastRowColumn(a,b),d=this.doc.getLine(a).substring(c,b).match(/^\s*/),this.moveCursorTo(a,
c+d[0].length)):d[0].length>=b?this.moveCursorTo(a,c):this.moveCursorTo(a,c+d[0].length)};this.moveCursorLineEnd=function(){var a=this.selectionLead;this.moveCursorTo(a.row,this.session.getDocumentLastRowColumn(a.row,a.column))};this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};this.moveCursorWordRight=function(){var a=this.selectionLead.row,b=this.selectionLead.column,c=this.doc.getLine(a),
d=c.substring(b);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;if(b==c.length)this.moveCursorRight();else{if(this.session.nonTokenRe.exec(d))b+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0;else if(this.session.tokenRe.exec(d))b+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(a,b)}};this.moveCursorWordLeft=function(){var a=this.selectionLead.row,b=this.selectionLead.column,d=this.doc.getLine(a),d=c.stringReverse(d.substring(0,
b));this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;if(b==0)this.moveCursorLeft();else{if(this.session.nonTokenRe.exec(d))b-=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0;else if(this.session.tokenRe.exec(d))b-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(a,b)}};this.moveCursorBy=function(a,b){var c=this.session.documentToScreenPosition(this.selectionLead.row,this.selectionLead.column),c=this.session.screenToDocumentPosition(c.row+
a,b==0&&this.$desiredColumn||c.column);this.moveCursorTo(c.row,c.column+b,b==0)};this.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)};this.moveCursorTo=function(a,b,c){this.selectionLead.setPosition(a,b);c||this.$updateDesiredColumn(this.selectionLead.column)};this.moveCursorToScreen=function(a,b,c){b=this.session.screenToDocumentPosition(a,b);a=b.row;b=b.column;this.moveCursorTo(a,b,c)}}).call(b.prototype);d.Selection=b});
defineace("ace/range",["requireace","exports","module"],function(e,d){var h=function(c,d,f,b){this.start={row:c,column:d};this.end={row:f,column:b}};(function(){this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(c,d){return this.compare(c,d)==0};this.compare=function(c,d){if(!this.isMultiLine()&&c===this.start.row)return d<this.start.column?-1:d>this.end.column?1:0;if(c<this.start.row)return-1;if(c>this.end.row)return 1;
if(this.start.row===c)return d>=this.start.column?0:-1;if(this.end.row===c)return d<=this.end.column?0:1;return 0};this.clipRows=function(c,d){if(this.end.row>d)var f={row:d+1,column:0};if(this.start.row>d)var b={row:d+1,column:0};this.start.row<c&&(b={row:c,column:0});this.end.row<c&&(f={row:c,column:0});return h.fromPoints(b||this.start,f||this.end)};this.extend=function(c,d){var f=this.compare(c,d);if(f==0)return this;else if(f==-1)var b={row:c,column:d};else var a={row:c,column:d};return h.fromPoints(b||
this.start,a||this.end)};this.isEmpty=function(){return this.start.row==this.end.row&&this.start.column==this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return h.fromPoints(this.start,this.end)};this.collapseRows=function(){return this.end.column==0?new h(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new h(this.start.row,0,this.end.row,0)};this.toScreenRange=function(c){var d=c.documentToScreenPosition(this.start),c=c.documentToScreenPosition(this.end);
return new h(d.row,d.column,c.row,c.column)}}).call(h.prototype);h.fromPoints=function(c,d){return new h(c.row,c.column,d.row,d.column)};d.Range=h});
defineace("ace/mode/text",["requireace","exports","module","ace/tokenizer","ace/mode/text_highlight_rules"],function(e,d){var h=e("ace/tokenizer").Tokenizer,c=e("ace/mode/text_highlight_rules").TextHighlightRules,j=function(){this.$tokenizer=new h((new c).getRules())};(function(){this.getTokenizer=function(){return this.$tokenizer};this.toggleCommentLines=function(){};this.getNextLineIndent=function(){return""};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(c){if(c=
c.match(/^(\s+)/))return c[1];return""};this.createWorker=function(){return null};this.highlightSelection=function(c){var b=c.session;if(!b.$selectionOccurrences)b.$selectionOccurrences=[];b.$selectionOccurrences.length&&this.clearSelectionHighlight(c);var a=c.getSelectionRange();if(!a.isEmpty()&&!a.isMultiLine()){var d=a.start.column-1,e=a.end.column+1,j=b.getLine(a.start.row),h=j.length,l=j.substring(Math.max(d,0),Math.min(e,h));if(!(d>=0&&/^[\w\d]/.test(l)||e<=h&&/[\w\d]$/.test(l)))if(l=j.substring(a.start.column,
a.end.column),/^[\w\d]+$/.test(l)){var g=c.getCursorPosition(),a={wrap:!0,wholeWord:!0,caseSensitive:!0,needle:l},d=c.$search.getOptions();c.$search.set(a);c.$search.findAll(b).forEach(function(a){a.contains(g.row,g.column)||(a=b.addMarker(a,"ace_selected_word"),b.$selectionOccurrences.push(a))});c.$search.set(d)}}};this.clearSelectionHighlight=function(c){if(c.session.$selectionOccurrences)c.session.$selectionOccurrences.forEach(function(b){c.session.removeMarker(b)}),c.session.$selectionOccurrences=
[]}}).call(j.prototype);d.Mode=j});
defineace("ace/tokenizer",["requireace","exports","module"],function(e,d){var h=function(c){this.rules=c;this.regExps={};for(var d in this.rules){for(var c=this.rules[d],f=[],b=0;b<c.length;b++)f.push(c[b].regex);this.regExps[d]=RegExp("(?:("+f.join(")|(")+")|(.))","g")}};(function(){this.getLineTokens=function(c,d){var f=d,b=this.rules[f],a=this.regExps[f];a.lastIndex=0;for(var k,e=[],h=0,q={type:null,value:""};k=a.exec(c);){for(var l="text",g=k[0],m=0;m<b.length;m++)if(k[m+1]){m=b[m];l=typeof m.token==
"function"?m.token(k[0]):m.token;if(m.next&&m.next!==f)f=m.next,b=this.rules[f],h=a.lastIndex,a=this.regExps[f],a.lastIndex=h;break}q.type!==l?(q.type&&e.push(q),q={type:l,value:g}):q.value+=g;if(h==c.length)break;h=a.lastIndex}q.type&&e.push(q);return{tokens:e,state:f}}}).call(h.prototype);d.Tokenizer=h});
defineace("ace/mode/text_highlight_rules",["requireace","exports","module"],function(e,d){var h=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:"text",regex:".+"}]}};(function(){this.addRules=function(c,d){for(var f in c){for(var b=c[f],a=0;a<b.length;a++){var k=b[a];k.next=k.next?d+k.next:d+f}this.$rules[d+f]=b}};this.getRules=function(){return this.$rules}}).call(h.prototype);d.TextHighlightRules=h});
defineace("ace/document",["requireace","exports","module","pilot/oop","pilot/event_emitter","ace/range","ace/anchor"],function(e,d){var h=e("pilot/oop"),c=e("pilot/event_emitter").EventEmitter,j=e("ace/range").Range,f=e("ace/anchor").Anchor,b=function(a){this.$lines=[];Array.isArray(a)?this.insertLines(0,a):a.length==0?this.$lines=[""]:this.insert({row:0,column:0},a)};(function(){h.implement(this,c);this.setValue=function(a){var b=this.getLength();this.remove(new j(0,0,b,this.getLine(b-1).length));
this.insert({row:0,column:0},a)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(a,b){return new f(this,a,b)};this.$split="aaa".split(/a/).length==0?function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:function(a){return a.split(/\r\n|\r|\n/)};this.$detectNewLine=function(a){this.$autoNewLine=(a=a.match(/^.*?(\r?\n)/m))?a[1]:"\n"};this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";
case "auto":return this.$autoNewLine}};this.$autoNewLine="\n";this.$newLineMode="auto";this.setNewLineMode=function(a){if(this.$newLineMode!==a)this.$newLineMode=a};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(a){return a=="\r\n"||a=="\r"||a=="\n"};this.getLine=function(a){return this.getLines(a,a+1)[0]||""};this.getLines=function(a,b){return this.$lines.slice(a,b+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};
this.getTextRange=function(a){if(a.start.row==a.end.row)return this.$lines[a.start.row].substring(a.start.column,a.end.column);else{var b=[];b.push(this.$lines[a.start.row].substring(a.start.column));b.push.apply(b,this.getLines(a.start.row+1,a.end.row-1));b.push(this.$lines[a.end.row].substring(0,a.end.column));return b.join(this.getNewLineCharacter())}};this.$clipPosition=function(a){var b=this.getLength();if(a.row>=b)a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length;return a};this.insert=
function(a,b){if(b.length==0)return a;a=this.$clipPosition(a);this.getLength()<=1&&this.$detectNewLine(b);var c=this.$split(b),d=c.splice(0,1)[0],f=c.length==0?null:c.splice(c.length-1,1)[0],a=this.insertInLine(a,d);f!==null&&(a=this.insertNewLine(a),a=this.insertLines(a.row,c),a=this.insertInLine(a,f||""));return a};this.insertLines=function(a,b){if(b.length==0)return{row:a,column:0};var c=[a,0];c.push.apply(c,b);this.$lines.splice.apply(this.$lines,c);c=new j(a,0,a+b.length,0);this._dispatchEvent("change",
{data:{action:"insertLines",range:c,lines:b}});return c.end};this.insertNewLine=function(a){var a=this.$clipPosition(a),b=this.$lines[a.row]||"";this.$lines[a.row]=b.substring(0,a.column);this.$lines.splice(a.row+1,0,b.substring(a.column,b.length));b={row:a.row+1,column:0};this._dispatchEvent("change",{data:{action:"insertText",range:j.fromPoints(a,b),text:this.getNewLineCharacter()}});return b};this.insertInLine=function(a,b){if(b.length==0)return a;var c=this.$lines[a.row]||"";this.$lines[a.row]=
c.substring(0,a.column)+b+c.substring(a.column);c={row:a.row,column:a.column+b.length};this._dispatchEvent("change",{data:{action:"insertText",range:j.fromPoints(a,c),text:b}});return c};this.remove=function(a){a.start=this.$clipPosition(a.start);a.end=this.$clipPosition(a.end);if(a.isEmpty())return a.start;var b=a.start.row,c=a.end.row;if(a.isMultiLine()){var d=a.start.column==0?b:b+1,f=c-1;a.end.column>0&&this.removeInLine(c,0,a.end.column);f>=d&&this.removeLines(d,f);d!=b&&(this.removeInLine(b,
a.start.column,this.getLine(b).length),this.removeNewLine(a.start.row))}else this.removeInLine(b,a.start.column,a.end.column);return a.start};this.removeInLine=function(a,b,c){if(b!=c){var d=new j(a,b,a,c),f=this.getLine(a),e=f.substring(b,c),b=f.substring(0,b)+f.substring(c,f.length);this.$lines.splice(a,1,b);this._dispatchEvent("change",{data:{action:"removeText",range:d,text:e}});return d.start}};this.removeLines=function(a,b){var c=new j(a,0,b+1,0),d=this.$lines.splice(a,b-a+1);this._dispatchEvent("change",
{data:{action:"removeLines",range:c,nl:this.getNewLineCharacter(),lines:d}});return d};this.removeNewLine=function(a){var b=this.getLine(a),c=this.getLine(a+1),d=new j(a,b.length,a+1,0);this.$lines.splice(a,2,b+c);this._dispatchEvent("change",{data:{action:"removeText",range:d,text:this.getNewLineCharacter()}})};this.replace=function(a,b){if(b.length==0&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);return b?this.insert(a.start,b):a.start};this.applyDeltas=function(a){for(var b=
0;b<a.length;b++){var c=a[b],d=j.fromPoints(c.range.start,c.range.end);c.action=="insertLines"?this.insertLines(d.start.row,c.lines):c.action=="insertText"?this.insert(d.start,c.text):c.action=="removeLines"?this.removeLines(d.start.row,d.end.row-1):c.action=="removeText"&&this.remove(d)}};this.revertDeltas=function(a){for(var b=a.length-1;b>=0;b--){var c=a[b],d=j.fromPoints(c.range.start,c.range.end);c.action=="insertLines"?this.removeLines(d.start.row,d.end.row-1):c.action=="insertText"?this.remove(d):
c.action=="removeLines"?this.insertLines(d.start.row,c.lines):c.action=="removeText"&&this.insert(d.start,c.text)}}}).call(b.prototype);d.Document=b});
defineace("ace/anchor",["requireace","exports","module","pilot/oop","pilot/event_emitter"],function(e,d){var h=e("pilot/oop"),c=e("pilot/event_emitter").EventEmitter;(function(){h.implement(this,c);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.onChange=function(c){var c=c.data,d=c.range;if(!(d.start.row==d.end.row&&d.start.row!=this.row)&&!(d.start.row>this.row)&&!(d.start.row==this.row&&d.start.column>
this.column)){var b=this.row,a=this.column;if(c.action==="insertText")d.start.row===b&&d.start.column<=a?d.start.row===d.end.row?a+=d.end.column-d.start.column:(a-=d.start.column,b+=d.end.row-d.start.row):d.start.row!==d.end.row&&d.start.row<b&&(b+=d.end.row-d.start.row);else if(c.action==="insertLines")d.start.row<=b&&(b+=d.end.row-d.start.row);else if(c.action=="removeText")d.start.row==b&&d.start.column<a?a=d.end.column>=a?d.start.column:Math.max(0,a-(d.end.column-d.start.column)):d.start.row!==
d.end.row&&d.start.row<b?(d.end.row==b&&(a=Math.max(0,a-d.end.column)+d.start.column),b-=d.end.row-d.start.row):d.end.row==b&&(b-=d.end.row-d.start.row,a=Math.max(0,a-d.end.column)+d.start.column);else if(c.action=="removeLines"&&d.start.row<=b)d.end.row<=b?b-=d.end.row-d.start.row:(b=d.start.row,a=0);this.setPosition(b,a,!0)}};this.setPosition=function(c,d,b){pos=b?{row:c,column:d}:this.$clipPositionToDocument(c,d);if(!(this.row==pos.row&&this.column==pos.column))c={row:this.row,column:this.column},
this.row=pos.row,this.column=pos.column,this._dispatchEvent("change",{old:c,value:pos})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.$clipPositionToDocument=function(c,d){var b={};c>=this.document.getLength()?(b.row=Math.max(0,this.document.getLength()-1),b.column=this.document.getLine(b.row).length):c<0?(b.row=0,b.column=0):(b.row=c,b.column=Math.min(this.document.getLine(b.row).length,Math.max(0,d)));if(d<0)b.column=0;return b}}).call((d.Anchor=function(c,
d,b){this.document=c;typeof b=="undefined"?this.setPosition(d.row,d.column):this.setPosition(d,b);this.$onChange=this.onChange.bind(this);c.on("change",this.$onChange)}).prototype)});
defineace("ace/background_tokenizer",["requireace","exports","module","pilot/oop","pilot/event_emitter"],function(e,d){var h=e("pilot/oop"),c=e("pilot/event_emitter").EventEmitter,j=function(c){this.running=!1;this.lines=[];this.currentLine=0;this.tokenizer=c;var b=this;this.$worker=function(){if(b.running){for(var a=new Date,c=b.currentLine,d=0,e=b.doc.getLength();b.currentLine<e;)if(b.lines[b.currentLine]=b.$tokenizeRows(b.currentLine,b.currentLine)[0],b.currentLine++,d+=1,d%5==0&&new Date-a>20){b.fireUpdateEvent(c,
b.currentLine-1);b.running=setTimeout(b.$worker,20);return}b.running=!1;b.fireUpdateEvent(c,e-1)}}};(function(){h.implement(this,c);this.setTokenizer=function(c){this.tokenizer=c;this.lines=[];this.start(0)};this.setDocument=function(c){this.doc=c;this.lines=[];this.stop()};this.fireUpdateEvent=function(c,b){this._dispatchEvent("update",{data:{first:c,last:b}})};this.start=function(c){this.currentLine=Math.min(c||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);
this.stop();this.running=setTimeout(this.$worker,700)};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(c,b){return this.$tokenizeRows(c,b)};this.getState=function(c){return this.$tokenizeRows(c,c)[0].state};this.$tokenizeRows=function(c,b){if(!this.doc)return[];var a=[],d="start",e=!1;if(c>0&&this.lines[c-1])d=this.lines[c-1].state,e=!0;for(var j=this.doc.getLines(c,b),h=c;h<=b;h++)if(this.lines[h])l=this.lines[h],d=l.state,a.push(l);else{var l=
this.tokenizer.getLineTokens(j[h-c]||"",d),d=l.state;a.push(l);e&&(this.lines[h]=l)}return a}}).call(j.prototype);d.BackgroundTokenizer=j});
defineace("ace/search",["requireace","exports","module","pilot/lang","pilot/oop","ace/range"],function(e,d){var h=e("pilot/lang"),c=e("pilot/oop"),j=e("ace/range").Range,f=function(){this.$options={needle:"",backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,scope:f.ALL,regExp:!1}};f.ALL=1;f.SELECTION=2;(function(){this.set=function(b){c.mixin(this.$options,b);return this};this.getOptions=function(){return h.copyObject(this.$options)};this.find=function(b){if(!this.$options.needle)return null;var a=
null;(this.$options.backwards?this.$backwardMatchIterator(b):this.$forwardMatchIterator(b)).forEach(function(b){a=b;return!0});return a};this.findAll=function(b){if(!this.$options.needle)return[];var a=[];(this.$options.backwards?this.$backwardMatchIterator(b):this.$forwardMatchIterator(b)).forEach(function(b){a.push(b)});return a};this.replace=function(b,a){var c=this.$assembleRegExp(),d=c.exec(b);return d&&d[0].length==b.length?this.$options.regExp?b.replace(c,a):a:null};this.$forwardMatchIterator=
function(b){var a=this.$assembleRegExp(),c=this;return{forEach:function(d){c.$forwardLineIterator(b).forEach(function(b,e,f){e&&(b=b.substring(e));var g=[];b.replace(a,function(a){g.push({str:a,offset:e+arguments[arguments.length-2]});return a});for(b=0;b<g.length;b++){var j=g[b],j=c.$rangeFromMatch(f,j.offset,j.str.length);if(d(j))return!0}})}}};this.$backwardMatchIterator=function(b){var a=this.$assembleRegExp(),c=this;return{forEach:function(d){c.$backwardLineIterator(b).forEach(function(b,e,f){e&&
(b=b.substring(e));var g=[];b.replace(a,function(a,b){g.push({str:a,offset:e+b});return a});for(b=g.length-1;b>=0;b--){var j=g[b],j=c.$rangeFromMatch(f,j.offset,j.str.length);if(d(j))return!0}})}}};this.$rangeFromMatch=function(b,a,c){return new j(b,a,b,a+c)};this.$assembleRegExp=function(){var b=this.$options.regExp?this.$options.needle:h.escapeRegExp(this.$options.needle);this.$options.wholeWord&&(b="\\b"+b+"\\b");var a="g";this.$options.caseSensitive||(a+="i");return RegExp(b,a)};this.$forwardLineIterator=
function(b){function a(a){var f=b.getLine(a);c&&a==d.end.row&&(f=f.substring(0,d.end.column));h&&a==e.row&&(f=f.substring(0,e.column));return f}var c=this.$options.scope==f.SELECTION,d=b.getSelection().getRange(),e=b.getSelection().getCursor(),j=c?d.start.row:0,l=c?d.start.column:0,g=c?d.end.row:b.getLength()-1,m=this.$options.wrap,h=!1;return{forEach:function(b){var c=e.row,d=a(c),f=e.column,k=!1;for(h=!1;!b(d,f,c);){if(k)break;c++;f=0;if(c>g)if(m)c=j,f=l,h=!0;else break;c==e.row&&(k=!0);d=a(c)}}}};
this.$backwardLineIterator=function(b){var a=this.$options.scope==f.SELECTION,c=b.getSelection().getRange(),d=a?c.end:c.start,e=a?c.start.row:0,j=a?c.start.column:0,l=a?c.end.row:b.getLength()-1,g=this.$options.wrap;return{forEach:function(f){for(var h=d.row,s=b.getLine(h).substring(0,d.column),o=0,u=!1,v=!1;!f(s,o,h);){if(u)break;h--;o=0;if(h<e)if(g)h=l,v=!0;else break;h==d.row&&(u=!0);s=b.getLine(h);a&&(h==e?o=j:h==l&&(s=s.substring(0,c.end.column)));if(v&&h==d.row)o=d.column}}}}}).call(f.prototype);
d.Search=f});
defineace("ace/undomanager",["requireace","exports","module"],function(e,d){var h=function(){this.reset()};(function(){this.execute=function(c){var d=c.args[0];this.$doc=c.args[1];this.$undoStack.push(d)};this.undo=function(){var c=this.$undoStack.pop();c&&(this.$doc.undoChanges(c),this.$redoStack.push(c))};this.redo=function(){var c=this.$redoStack.pop();c&&(this.$doc.redoChanges(c),this.$undoStack.push(c))};this.reset=function(){this.$undoStack=[];this.$redoStack=[]};this.hasUndo=function(){return this.$undoStack.length>0};
this.hasRedo=function(){return this.$redoStack.length>0}}).call(h.prototype);d.UndoManager=h});
defineace("ace/theme/clouds",["requireace","exports","module","pilot/dom"],function(e,d){e("pilot/dom").importCssString(".ace-clouds .ace_editor {border: 2px solid rgb(159, 159, 159);}.ace-clouds .ace_editor.ace_focus {border: 2px solid #327fbd;}.ace-clouds .ace_gutter {width: 50px;background: #e8e8e8;color: #333;overflow : hidden;}.ace-clouds .ace_gutter-layer {width: 100%;text-align: right;}.ace-clouds .ace_gutter-layer .ace_gutter-cell {padding-right: 6px;}.ace-clouds .ace_print_margin {width: 1px;background: #e8e8e8;}.ace-clouds .ace_scroller {background-color: #FFFFFF;}.ace-clouds .ace_text-layer {cursor: text;color: #000000;}.ace-clouds .ace_cursor {border-left: 2px solid #000000;}.ace-clouds .ace_cursor.ace_overwrite {border-left: 0px;border-bottom: 1px solid #000000;}.ace-clouds .ace_marker-layer .ace_selection {background: #BDD5FC;}.ace-clouds .ace_marker-layer .ace_step {background: rgb(198, 219, 174);}.ace-clouds .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF;}.ace-clouds .ace_marker-layer .ace_active_line {background: #FFFBD1;}.ace-clouds .ace_invisible {color: #BFBFBF;}.ace-clouds .ace_keyword {color:#AF956F;}.ace-clouds .ace_keyword.ace_operator {color:#484848;}.ace-clouds .ace_constant {}.ace-clouds .ace_constant.ace_language {color:#39946A;}.ace-clouds .ace_constant.ace_library {}.ace-clouds .ace_constant.ace_numeric {color:#46A609;}.ace-clouds .ace_invalid {background-color:#FF002A;}.ace-clouds .ace_invalid.ace_illegal {}.ace-clouds .ace_invalid.ace_deprecated {}.ace-clouds .ace_support {}.ace-clouds .ace_support.ace_function {color:#C52727;}.ace-clouds .ace_function.ace_buildin {}.ace-clouds .ace_string {color:#5D90CD;}.ace-clouds .ace_string.ace_regexp {}.ace-clouds .ace_comment {color:#BCC8BA;}.ace-clouds .ace_comment.ace_doc {}.ace-clouds .ace_comment.ace_doc.ace_tag {}.ace-clouds .ace_variable {}.ace-clouds .ace_variable.ace_language {}.ace-clouds .ace_xml_pe {}");d.cssClass=
"ace-clouds"});
defineace("ace/mode/javascript",["requireace","exports","module","pilot/oop","ace/mode/text","ace/tokenizer","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/text").Mode,j=e("ace/tokenizer").Tokenizer,f=e("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,b=e("ace/mode/matching_brace_outdent").MatchingBraceOutdent,a=e("ace/range").Range,k=e("ace/worker/worker_client").WorkerClient,n=
function(){this.$tokenizer=new j((new f).getRules());this.$outdent=new b};h.inherits(n,c);(function(){this.toggleCommentLines=function(b,c,d,e){for(var f=!0,b=/^(\s*)\/\//,k=d;k<=e;k++)if(!b.test(c.getLine(k))){f=!1;break}if(f){f=new a(0,0,0,0);for(k=d;k<=e;k++)d=c.getLine(k).match(b),f.start.row=k,f.end.row=k,f.end.column=d[0].length,c.replace(f,d[1])}else c.indentRows(d,e,"//")};this.getNextLineIndent=function(a,b,c){var d=this.$getIndent(b),e=this.$tokenizer.getLineTokens(b,a),f=e.tokens,e=e.state;
if(f.length&&f[f.length-1].type=="comment")return d;if(a=="start")(a=b.match(/^.*[\{\(\[]\s*$/))&&(d+=c);else if(a=="doc-start"){if(e=="start")return"";if(a=b.match(/^\s*(\/?)\*/))a[1]&&(d+=" "),d+="* "}return d};this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(b,c)};this.autoOutdent=function(a,b,c){this.$outdent.autoOutdent(b,c)};this.createWorker=function(a){var b=a.getDocument(),c=new k(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");c.call("setValue",
[b.getValue()]);b.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};c.emit("change",a)});c.on("jslint",function(b){for(var c=[],d=0;d<b.data.length;d++){var e=b.data[d];e&&c.push({row:e.line-1,column:e.character-1,text:e.reason,type:"warning",lint:e})}a.setAnnotations(c)});c.on("narcissus",function(b){a.setAnnotations([b.data])});c.on("terminate",function(){a.clearAnnotations()});return c}}).call(n.prototype);d.Mode=n});
defineace("ace/mode/javascript_highlight_rules",["requireace","exports","module","pilot/oop","pilot/lang","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("pilot/lang"),j=e("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,f=e("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){var a=new j,b=c.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),
d=c.arrayToMap("null|Infinity|NaN|undefined".split("|")),e=c.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|"));this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},a.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:'["].*\\\\$',
next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:function(a){return a=="this"?"variable.language":b.hasOwnProperty(a)?"keyword":d.hasOwnProperty(a)?"constant.language":e.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?
"invalid.deprecated":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",regex:".+"}],qqstring:[{token:"string",
regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+"}]};this.addRules(a.getRules(),"doc-");this.$rules["doc-start"][0].next="start"};h.inherits(b,f);d.JavaScriptHighlightRules=b});
defineace("ace/mode/doc_comment_highlight_rules",["requireace","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/text_highlight_rules").TextHighlightRules,j=function(){this.$rules={start:[{token:"comment.doc",regex:"\\*\\/",next:"start"},{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",regex:"s+"},{token:"comment.doc",regex:"TODO"},{token:"comment.doc",regex:"[^@\\*]+"},{token:"comment.doc",regex:"."}]}};h.inherits(j,
c);(function(){this.getStartRule=function(c){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:c}}}).call(j.prototype);d.DocCommentHighlightRules=j});
defineace("ace/mode/matching_brace_outdent",["requireace","exports","module","ace/range"],function(e,d){var h=e("ace/range").Range,c=function(){};(function(){this.checkOutdent=function(c,d){if(!/^\s+$/.test(c))return!1;return/^\s*\}/.test(d)};this.autoOutdent=function(c,d){var b=c.getLine(d).match(/^(\s*\})/);if(!b)return 0;var b=b[1].length,a=c.findMatchingBracket({row:d,column:b});if(!a||a.row==d)return 0;a=this.$getIndent(c.getLine(a.row));c.replace(new h(d,0,d,b-1),a)};this.$getIndent=function(c){if(c=
c.match(/^(\s+)/))return c[1];return""}}).call(c.prototype);d.MatchingBraceOutdent=c});
defineace("ace/worker/worker_client",["requireace","exports","module","pilot/oop","pilot/event_emitter"],function(e,d){var h=e("pilot/oop"),c=e("pilot/event_emitter").EventEmitter,j=function(c,b,a,d){this.callbacks=[];if(e.packaged)c=this.$guessBasePath(),this.$worker=new Worker(c+b);else{var j=e.nameToUrl("ace/worker/worker",null,"_");this.$worker=new Worker(j);j={};for(b=0;b<c.length;b++){var h=c[b];j[h]=e.nameToUrl(h,null,"_").replace(/.js$/,"")}}this.$worker.postMessage({init:!0,tlns:j,module:a,
classname:d});this.callbackId=1;this.callbacks={};var q=this;this.$worker.onerror=function(a){window.console&&console.log&&console.log(a);throw a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":q._dispatchEvent(a.name,{data:a.data});break;case "call":var b=q.callbacks[a.id];b&&(b(a.data),delete q.callbacks[a.id])}}};(function(){h.implement(this,c);this.$guessBasePath=function(){if(e.aceBaseUrl)return e.aceBaseUrl;
for(var c=document.getElementsByTagName("script"),b=0;b<c.length;b++){var a=c[b].src||c[b].getAttribute("src");if(a&&(a=a.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/)))return a[1]||a[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",{});this.$worker.terminate()};this.send=function(c,b){this.$worker.postMessage({command:c,args:b})};this.call=function(c,b,a){if(a){var d=this.callbackId++;this.callbacks[d]=a;b.push(d)}this.send(c,b)};this.emit=function(c,b){this.$worker.postMessage({event:c,
data:b})}}).call(j.prototype);d.WorkerClient=j});
defineace("ace/mode/java",["requireace","exports","module","pilot/oop","ace/mode/javascript","ace/tokenizer","ace/mode/java_highlight_rules","ace/mode/matching_brace_outdent"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/javascript").Mode,j=e("ace/tokenizer").Tokenizer,f=e("ace/mode/java_highlight_rules").JavaHighlightRules,b=e("ace/mode/matching_brace_outdent").MatchingBraceOutdent,a=function(){this.$tokenizer=new j((new f).getRules());this.$outdent=new b};h.inherits(a,c);(function(){this.createWorker=
function(){return null}}).call(a.prototype);d.Mode=a});
defineace("ace/mode/java_highlight_rules",["requireace","exports","module","pilot/oop","pilot/lang","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("pilot/lang"),j=e("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,f=e("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){var a=new j,b=c.arrayToMap("abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while".split("|")),d=
c.arrayToMap("null|Infinity|NaN|undefined".split("|")),e=c.arrayToMap("AbstractMethodError|AssertionError|ClassCircularityError|ClassFormatError|Deprecated|EnumConstantNotPresentException|ExceptionInInitializerError|IllegalAccessError|IllegalThreadStateException|InstantiationError|InternalError|NegativeArraySizeException|NoSuchFieldError|Override|Process|ProcessBuilder|SecurityManager|StringIndexOutOfBoundsException|SuppressWarnings|TypeNotPresentException|UnknownError|UnsatisfiedLinkError|UnsupportedClassVersionError|VerifyError|InstantiationException|IndexOutOfBoundsException|ArrayIndexOutOfBoundsException|CloneNotSupportedException|NoSuchFieldException|IllegalArgumentException|NumberFormatException|SecurityException|Void|InheritableThreadLocal|IllegalStateException|InterruptedException|NoSuchMethodException|IllegalAccessException|UnsupportedOperationException|Enum|StrictMath|Package|Compiler|Readable|Runtime|StringBuilder|Math|IncompatibleClassChangeError|NoSuchMethodError|ThreadLocal|RuntimePermission|ArithmeticException|NullPointerException|Long|Integer|Short|Byte|Double|Number|Float|Character|Boolean|StackTraceElement|Appendable|StringBuffer|Iterable|ThreadGroup|Runnable|Thread|IllegalMonitorStateException|StackOverflowError|OutOfMemoryError|VirtualMachineError|ArrayStoreException|ClassCastException|LinkageError|NoClassDefFoundError|ClassNotFoundException|RuntimeException|Exception|ThreadDeath|Error|Throwable|System|ClassLoader|Cloneable|Class|CharSequence|Comparable|String|Object".split("|")),
f=c.arrayToMap("".split("|"));this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},a.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"comment",regex:"\\/\\*\\*",next:"comment"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",
regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:function(a){return a=="this"?"variable.language":b.hasOwnProperty(a)?"keyword":e.hasOwnProperty(a)?"support.function":f.hasOwnProperty(a)?"support.function":d.hasOwnProperty(a)?"constant.language":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},
{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",regex:".+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+"}]};this.addRules(a.getRules(),"doc-");this.$rules["doc-start"][0].next="start"};h.inherits(b,f);d.JavaHighlightRules=
b});
defineace("ace/mode/css",["requireace","exports","module","pilot/oop","ace/mode/text","ace/tokenizer","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/text").Mode,j=e("ace/tokenizer").Tokenizer,f=e("ace/mode/css_highlight_rules").CssHighlightRules,b=e("ace/mode/matching_brace_outdent").MatchingBraceOutdent,a=function(){this.$tokenizer=new j((new f).getRules());this.$outdent=new b};h.inherits(a,c);(function(){this.getNextLineIndent=function(a,
b,c){var d=this.$getIndent(b),a=this.$tokenizer.getLineTokens(b,a).tokens;if(a.length&&a[a.length-1].type=="comment")return d;b.match(/^.*\{\s*$/)&&(d+=c);return d};this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(b,c)};this.autoOutdent=function(a,b,c){this.$outdent.autoOutdent(b,c)}}).call(a.prototype);d.Mode=a});
defineace("ace/mode/css_highlight_rules",["requireace","exports","module","pilot/oop","pilot/lang","ace/mode/text_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("pilot/lang"),j=e("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){function b(a){for(var b=[],a=a.split(""),c=0;c<a.length;c++)b.push("[",a[c].toLowerCase(),a[c].toUpperCase(),"]");return b.join("")}var a=c.arrayToMap("-moz-box-sizing|-webkit-box-sizing|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),
d=c.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),e=c.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),
f=c.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|"));this.$rules={start:[{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("em")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("ex")},{token:"constant.numeric",
regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("px")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("cm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("mm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("in")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("pt")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("pc")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+
b("deg")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("rad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("grad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("ms")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("s")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("hz")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+b("khz")},
{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))%"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:"lparen",regex:"{"},{token:"rparen",regex:"}"},{token:function(b){return a.hasOwnProperty(b.toLowerCase())?"support.type":d.hasOwnProperty(b.toLowerCase())?"support.function":e.hasOwnProperty(b.toLowerCase())?"support.constant":f.hasOwnProperty(b.toLowerCase())?
"support.constant.color":"text"},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",regex:".+"}]}};h.inherits(f,j);d.CssHighlightRules=f});
defineace("ace/mode/html",["requireace","exports","module","pilot/oop","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/tokenizer","ace/mode/html_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/text").Mode,j=e("ace/mode/javascript").Mode,f=e("ace/mode/css").Mode,b=e("ace/tokenizer").Tokenizer,a=e("ace/mode/html_highlight_rules").HtmlHighlightRules,k=function(){this.$tokenizer=new b((new a).getRules());this.$js=new j;this.$css=new f};h.inherits(k,c);(function(){this.toggleCommentLines=
function(){this.$delegate("toggleCommentLines",arguments,function(){return 0})};this.getNextLineIndent=function(a,b){var c=this;return this.$delegate("getNextLineIndent",arguments,function(){return c.$getIndent(b)})};this.checkOutdent=function(){return this.$delegate("checkOutdent",arguments,function(){return!1})};this.autoOutdent=function(){this.$delegate("autoOutdent",arguments)};this.$delegate=function(a,b,c){var d=b[0],e=d.split("js-");if(!e[0]&&e[1])return b[0]=e[1],this.$js[a].apply(this.$js,
b);e=d.split("css-");if(!e[0]&&e[1])return b[0]=e[1],this.$css[a].apply(this.$css,b);return c?c():void 0}}).call(k.prototype);d.Mode=k});
defineace("ace/mode/html_highlight_rules",["requireace","exports","module","pilot/oop","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/text_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/css_highlight_rules").CssHighlightRules,j=e("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,f=e("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){function a(a){return[{token:"string",regex:'".*?"'},{token:"string",regex:'["].*$',next:a+
"-qqstring"},{token:"string",regex:"'.*?'"},{token:"string",regex:"['].*$",next:a+"-qstring"}]}function b(a,c){return[{token:"string",regex:".*"+a,next:c},{token:"string",regex:".+"}]}this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",regex:"<\\!--",next:"comment"},{token:"text",regex:"<(?=s*script)",next:"script"},{token:"text",regex:"<(?=s*style)",next:"css"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},
{token:"text",regex:"[^<]+"}],script:[{token:"text",regex:">",next:"js-start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"}].concat(a("script")),css:[{token:"text",regex:">",next:"css-start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"}].concat(a("css")),tag:[{token:"text",regex:">",next:"start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"}].concat(a("tag")),"css-qstring":b("'","css"),"css-qqstring":b('"',"css"),"script-qstring":b("'",
"script"),"script-qqstring":b('"',"script"),"tag-qstring":b("'","tag"),"tag-qqstring":b('"',"tag"),cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:".+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",regex:".+"}]};this.addRules((new j).getRules(),"js-");this.$rules["js-start"].unshift({token:"comment",regex:"\\/\\/.*(?=<\\/script>)",next:"tag"},{token:"text",regex:"<\\/(?=script)",next:"tag"});this.addRules((new c).getRules(),
"css-");this.$rules["css-start"].unshift({token:"text",regex:"<\\/(?=style)",next:"tag"})};h.inherits(b,f);d.HtmlHighlightRules=b});
defineace("ace/mode/xml",["requireace","exports","module","pilot/oop","ace/mode/text","ace/tokenizer","ace/mode/xml_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/text").Mode,j=e("ace/tokenizer").Tokenizer,f=e("ace/mode/xml_highlight_rules").XmlHighlightRules,b=function(){this.$tokenizer=new j((new f).getRules())};h.inherits(b,c);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(b.prototype);d.Mode=b});
defineace("ace/mode/xml_highlight_rules",["requireace","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(e,d){var h=e("pilot/oop"),c=e("ace/mode/text_highlight_rules").TextHighlightRules,j=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",regex:"<\\!--",next:"comment"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],tag:[{token:"text",regex:">",
next:"start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"},{token:"string",regex:'".*?"'},{token:"string",regex:'["].*$',next:"qqstring"},{token:"string",regex:"'.*?'"},{token:"string",regex:"['].*$",next:"qstring"}],qstring:[{token:"string",regex:".*'",next:"tag"},{token:"string",regex:".+"}],qqstring:[{token:"string",regex:'.*"',next:"tag"},{token:"string",regex:".+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],
comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",regex:".+"}]}};h.inherits(j,c);d.XmlHighlightRules=j});
defineace("ace/virtual_renderer",["requireace","exports","module","pilot/oop","pilot/dom","pilot/event","pilot/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","pilot/event_emitter","text/ace/css/editor.css"],function(e,d){var h=e("pilot/oop"),c=e("pilot/dom"),j=e("pilot/event"),f=e("pilot/useragent"),b=e("ace/layer/gutter").Gutter,a=e("ace/layer/marker").Marker,k=e("ace/layer/text").Text,n=e("ace/layer/cursor").Cursor,p=e("ace/scrollbar").ScrollBar,
q=e("ace/renderloop").RenderLoop,l=e("pilot/event_emitter").EventEmitter,g=e("text/ace/css/editor.css");c.importCssString(g);g=function(d,e){this.container=d;c.addCssClass(this.container,"ace_editor");this.setTheme(e);this.$gutter=c.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.scroller=c.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=c.createElement("div");this.content.className=
"ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new b(this.$gutter);this.$markerBack=new a(this.content);var f=this.$textLayer=new k(this.content);this.canvas=f.element;this.$markerFront=new a(this.content);this.characterWidth=f.getCharacterWidth();this.lineHeight=f.getLineHeight();this.$cursorLayer=new n(this.content);this.$cursorPadding=8;this.$horizScrollAlwaysVisible=this.$horizScroll=!0;this.scrollBar=new p(d);this.scrollBar.addEventListener("scroll",this.onScroll.bind(this));
this.scrollTop=0;this.cursorPos={row:0,column:0};var g=this;this.$textLayer.addEventListener("changeCharaterSize",function(){g.characterWidth=f.getCharacterWidth();g.lineHeight=f.getLineHeight();g.$updatePrintMargin();g.onResize(!0);g.$loop.schedule(g.CHANGE_FULL)});j.addListener(this.$gutter,"click",this.$onGutterClick.bind(this));j.addListener(this.$gutter,"dblclick",this.$onGutterClick.bind(this));this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0};this.$loop=new q(this.$renderChanges.bind(this));
this.$loop.schedule(this.CHANGE_FULL);this.setPadding(4);this.$updatePrintMargin()};(function(){this.showGutter=!0;this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;h.implement(this,l);this.setSession=function(a){this.session=a;this.$cursorLayer.setSession(a);this.$markerBack.setSession(a);this.$markerFront.setSession(a);this.$gutterLayer.setSession(a);
this.$textLayer.setSession(a);this.$loop.schedule(this.CHANGE_FULL)};this.updateLines=function(a,b){b===void 0&&(b=Infinity);if(this.$changedLines){if(this.$changedLines.firstRow>a)this.$changedLines.firstRow=a;if(this.$changedLines.lastRow<b)this.$changedLines.lastRow=b}else this.$changedLines={firstRow:a,lastRow:b};this.$loop.schedule(this.CHANGE_LINES)};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(){this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=
function(){this.$textLayer.checkForSizeChanges()};this.onResize=function(a){var b=this.CHANGE_SIZE,d=c.getInnerHeight(this.container);if(a||this.$size.height!=d)this.$size.height=d,this.scroller.style.height=d+"px",this.scrollBar.setHeight(this.scroller.clientHeight),this.session&&(this.scrollToY(this.getScrollTop()),b|=this.CHANGE_FULL);d=c.getInnerWidth(this.container);if(a||this.$size.width!=d){this.$size.width=d;var e=this.showGutter?this.$gutter.offsetWidth:0;this.scroller.style.left=e+"px";
this.scroller.style.width=Math.max(0,d-e-this.scrollBar.getWidth())+"px";if(this.session.getUseWrapMode()&&(this.session.adjustWrapLimit(Math.floor((this.scroller.clientWidth-this.$padding*2)/this.characterWidth)-1)||a))b|=this.CHANGE_FULL}this.$size.scrollerWidth=this.scroller.clientWidth;this.$size.scrollerHeight=this.scroller.clientHeight;this.$loop.schedule(b)};this.$onGutterClick=function(a){var b=j.getDocumentX(a),c=j.getDocumentY(a);this._dispatchEvent("gutter"+a.type,{row:this.screenToTextCoordinates(b,
c).row,htmlEvent:a})};this.setShowInvisibles=function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)};this.getShowInvisibles=function(){return this.$textLayer.showInvisibles};this.$showPrintMargin=!0;this.setShowPrintMargin=function(a){this.$showPrintMargin=a;this.$updatePrintMargin()};this.getShowPrintMargin=function(){return this.$showPrintMargin};this.$printMarginColumn=80;this.setPrintMarginColumn=function(a){this.$printMarginColumn=a;this.$updatePrintMargin()};
this.getPrintMarginColumn=function(){return this.$printMarginColumn};this.getShowGutter=function(){return this.showGutter};this.setShowGutter=function(a){if(this.showGutter!==a)this.$gutter.style.display=a?"block":"none",this.showGutter=a,this.onResize(!0)};this.$updatePrintMargin=function(){var a;if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl)a=c.createElement("div"),a.className="ace_print_margin_layer",this.$printMarginEl=c.createElement("div"),this.$printMarginEl.className=
"ace_print_margin",a.appendChild(this.$printMarginEl),this.content.insertBefore(a,this.$textLayer.element);a=this.$printMarginEl.style;a.left=this.characterWidth*this.$printMarginColumn+this.$padding*2+"px";a.visibility=this.$showPrintMargin?"visible":"hidden"}};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.content};this.getTextAreaContainer=function(){return this.container};this.moveTextAreaToCursor=function(a){if(!f.isIE){var b=this.$cursorLayer.getPixelPosition();
if(b){var c=this.content.getBoundingClientRect(),d=this.layerConfig&&this.layerConfig.offset||0;a.style.left=c.left+b.left+this.$padding+"px";a.style.top=c.top+b.top-this.scrollTop+d+"px"}}};this.getFirstVisibleRow=function(){return(this.layerConfig||{}).firstRow||0};this.getFirstFullyVisibleRow=function(){if(!this.layerConfig)return 0;return this.layerConfig.firstRow+(this.layerConfig.offset==0?0:1)};this.getLastFullyVisibleRow=function(){if(!this.layerConfig)return 0;return this.layerConfig.firstRow-
1+Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight)};this.getLastVisibleRow=function(){return(this.layerConfig||{}).lastRow||0};this.$padding=null;this.setPadding=function(a){this.$padding=a;this.content.style.padding="0 "+a+"px";this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.getHScrollBarAlwaysVisible=function(){return this.$horizScrollAlwaysVisible};this.setHScrollBarAlwaysVisible=function(a){if(this.$horizScrollAlwaysVisible!=a)this.$horizScrollAlwaysVisible=
a,(!this.$horizScrollAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)};this.onScroll=function(a){this.scrollToY(a.data)};this.$updateScrollBar=function(){this.scrollBar.setInnerHeight(this.session.getScreenLength()*this.lineHeight);this.scrollBar.setScrollTop(this.scrollTop)};this.$renderChanges=function(a){a&&this.session&&((!this.layerConfig||a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL)&&this.$computeLayerConfig(),
a&this.CHANGE_FULL?(this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$updateScrollBar(),this.scrollCursorIntoView()):a&this.CHANGE_SCROLL?(a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),
this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$updateScrollBar()):(a&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):a&this.CHANGE_LINES?(this.$updateLines(),this.$updateScrollBar(),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):a&this.CHANGE_GUTTER&&this.showGutter&&this.$gutterLayer.update(this.layerConfig),a&this.CHANGE_CURSOR&&
this.$cursorLayer.update(this.layerConfig),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),a&this.CHANGE_SIZE&&this.$updateScrollBar()))};this.$computeLayerConfig=function(){var a=this.session,b=this.scrollTop%this.lineHeight,c=this.$size.scrollerHeight+this.lineHeight,d=this.$getLongestLine(),e=this.$horizScrollAlwaysVisible||this.$size.scrollerWidth-d<0,f=this.$horizScroll!==
e;this.$horizScroll=e;if(f)this.scroller.style.overflowX=e?"scroll":"hidden";var e=Math.max(0,Math.round((this.scrollTop-b)/this.lineHeight)),g=e+(Math.ceil(c/this.lineHeight)-1),k,c={lineHeight:this.lineHeight},e=a.screenToDocumentRow(e);k=a.documentToScreenRow(e);b=a.getRowHeight(c,e);g=Math.min(a.screenToDocumentRow(g),a.getLength()-1);c=this.$size.scrollerHeight+a.getRowHeight(c,g)+b;b=this.scrollTop-k*this.lineHeight;this.layerConfig={width:d,padding:this.$padding,firstRow:e,firstRowScreen:k,
lastRow:g,lineHeight:this.lineHeight,characterWidth:this.characterWidth,minHeight:c,offset:b,height:this.$size.scrollerHeight};this.$gutterLayer.element.style.marginTop=-b+"px";this.content.style.marginTop=-b+"px";this.content.style.width=d+"px";this.content.style.height=c+"px";if(f)this.onResize(!0)};this.$updateLines=function(){var a=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var c=this.layerConfig;if(c.width!=this.$getLongestLine())return this.$textLayer.update(c);
!(a>c.lastRow+1)&&!(b<c.firstRow)&&(b===Infinity?(this.showGutter&&this.$gutterLayer.update(c),this.$textLayer.update(c)):this.$textLayer.updateLines(c,a,b))};this.$getLongestLine=function(){var a=this.session.getScreenWidth()+1;this.$textLayer.showInvisibles&&(a+=1);return Math.max(this.$size.scrollerWidth-this.$padding*2,Math.round(a*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};
this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b);this.$loop.schedule(this.CHANGE_GUTTER)};this.removeGutterDecoration=function(a,b){this.$gutterLayer.removeGutterDecoration(a,b);this.$loop.schedule(this.CHANGE_GUTTER)};this.setBreakpoints=function(a){this.$gutterLayer.setBreakpoints(a);this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=
function(a){this.$gutterLayer.setAnnotations(a);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollCursorIntoView=function(){if(this.$size.scrollerHeight!==0){var a=this.$cursorLayer.getPixelPosition(),b=a.left+this.$padding,a=a.top;this.getScrollTop()>a&&this.scrollToY(a);this.getScrollTop()+this.$size.scrollerHeight<
a+this.lineHeight&&this.scrollToY(a+this.lineHeight-this.$size.scrollerHeight);this.scroller.scrollLeft>b&&this.scrollToX(b);this.scroller.scrollLeft+this.$size.scrollerWidth<b+this.characterWidth&&(b+this.characterWidth>this.scroller.scrollWidth&&this.$renderChanges(this.CHANGE_SIZE),this.scrollToX(Math.round(b+this.characterWidth-this.$size.scrollerWidth)))}};this.getScrollTop=function(){return this.scrollTop};this.getScrollLeft=function(){return this.scroller.scrollLeft};this.getScrollTopRow=function(){return this.scrollTop/
this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(a){this.scrollToY(a*this.lineHeight)};this.scrollToLine=function(a,b){for(var c={lineHeight:this.lineHeight},d=0,e=1;e<a;e++)d+=this.session.getRowHeight(c,e-1);b&&(d-=this.$size.scrollerHeight/2);this.scrollToY(d)};this.scrollToY=function(a){var b=this.session.getScreenLength()*this.lineHeight-this.$size.scrollerHeight,a=Math.max(0,
Math.min(b,a));if(this.scrollTop!==a)this.scrollTop=a,this.$loop.schedule(this.CHANGE_SCROLL)};this.scrollToX=function(a){a<=this.$padding&&(a=0);this.scroller.scrollLeft=a};this.scrollBy=function(a,b){b&&this.scrollToY(this.scrollTop+b);a&&this.scrollToX(this.scroller.scrollLeft+a)};this.screenToTextCoordinates=function(a,b){if(dojo.isIE&&dojo.isIE<9)var d=dojo.coords(this.scroller),d={top:d.y,bottom:d.y+d.h,left:d.x,right:d.w+d.x};else this.scroller.getBoundingClientRect();var d=this.scroller.getBoundingClientRect(),
e=Math.round((a+this.scroller.scrollLeft-d.left-this.$padding-c.getPageScrollLeft())/this.characterWidth);return this.session.screenToDocumentPosition(Math.floor((b+this.scrollTop-d.top-c.getPageScrollTop())/this.lineHeight),Math.max(e,0))};this.textToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=this.session.documentToScreenPosition(a,b),e=d.row*this.lineHeight;return{pageX:c.left+(this.$padding+Math.round(d.column*this.characterWidth))-this.getScrollLeft(),pageY:c.top+
e-this.getScrollTop()}};this.visualizeFocus=function(){c.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){c.removeCssClass(this.container,"ace_focus")};this.showComposition=function(){if(!this.$composition)this.$composition=c.createElement("div"),this.$composition.className="ace_composition",this.content.appendChild(this.$composition);this.$composition.innerHTML="&#160;";var a=this.$cursorLayer.getPixelPosition(),b=this.$composition.style;b.top=a.top+"px";b.left=a.left+this.$padding+
"px";b.height=this.lineHeight+"px";this.hideCursor()};this.setCompositionText=function(a){c.setInnerText(this.$composition,a)};this.hideComposition=function(){this.showCursor();if(this.$composition){var a=this.$composition.style;a.top="-10000px";a.left="-10000px"}};this.setTheme=function(a){function b(a){d.$theme&&c.removeCssClass(d.container,d.$theme);d.$theme=a?a.cssClass:null;d.$theme&&c.addCssClass(d.container,d.$theme);if(d.$size)d.$size.width=0,d.onResize()}var d=this;!a||typeof a=="string"?
e([a||"ace/theme/clouds"],function(a){b(a)}):b(a);d=this};this.setStyle=function(a){c.addCssClass(this.container,a)};this.unsetStyle=function(a){c.removeCssClass(this.container,a)}}).call(g.prototype);d.VirtualRenderer=g});
defineace("ace/layer/gutter",["requireace","exports","module","pilot/dom"],function(e,d){var h=e("pilot/dom"),c=function(c){this.element=h.createElement("div");this.element.className="ace_layer ace_gutter-layer";c.appendChild(this.element);this.$breakpoints=[];this.$annotations=[];this.$decorations=[]};(function(){this.setSession=function(c){this.session=c};this.addGutterDecoration=function(c,d){this.$decorations[c]||(this.$decorations[c]="");this.$decorations[c]+=" ace_"+d};this.removeGutterDecoration=
function(c,d){this.$decorations[c]=this.$decorations[c].replace(" ace_"+d,"")};this.setBreakpoints=function(c){this.$breakpoints=c.concat()};this.setAnnotations=function(c){this.$annotations=[];for(var d in c)if(c.hasOwnProperty(d)){var b=c[d];if(b)for(var a=this.$annotations[d]={text:[]},e=0;e<b.length;e++){var h=b[e];a.text.push(h.text.replace(/"/g,"&quot;").replace(/'/g,"&#8217;").replace(/</,"&lt;"));h=h.type;if(h=="error")a.className="ace_error";else if(h=="warning"&&a.className!="ace_error")a.className=
"ace_warning";else if(h=="info"&&!a.className)a.className="ace_info"}}};this.update=function(c){this.$config=c;for(var d=[],b=c.firstRow;b<=c.lastRow;b++){var a=this.$annotations[b]||{className:"",text:[]};d.push("<div class='ace_gutter-cell",this.$decorations[b]||"",this.$breakpoints[b]?" ace_breakpoint ":" ",a.className,"' title='",a.text.join("\n"),"' style='height:",this.session.getRowHeight(c,b),"px;'>",b+1,"</div>")}this.element=h.setInnerHtml(this.element,d.join(""));this.element.style.height=
c.minHeight+"px"}}).call(c.prototype);d.Gutter=c});
defineace("ace/layer/marker",["requireace","exports","module","ace/range","pilot/dom"],function(e,d){var h=e("ace/range").Range,c=e("pilot/dom"),j=function(d){this.element=c.createElement("div");this.element.className="ace_layer ace_marker-layer";d.appendChild(this.element)};(function(){this.setSession=function(c){this.session=c};this.setMarkers=function(c){this.markers=c};this.update=function(d){if(d=d||this.config){this.config=d;var b=[],a;for(a in this.markers){var e=this.markers[a],h=e.range.clipRows(d.firstRow,
d.lastRow);if(!h.isEmpty())if(h=h.toScreenRange(this.session),e.renderer){var j=this.$getTop(h.start.row,d);e.renderer(b,h,Math.round(h.start.column*d.characterWidth),j,d)}else h.isMultiLine()?e.type=="text"?this.drawTextMarker(b,h,e.clazz,d):this.drawMultiLineMarker(b,h,e.clazz,d):this.drawSingleLineMarker(b,h,e.clazz,d)}this.element=c.setInnerHtml(this.element,b.join(""))}};this.$getTop=function(c,b){return(c-b.firstRowScreen)*b.lineHeight};this.drawTextMarker=function(c,b,a,d){var e=b.start.row,
j=new h(e,b.start.column,e,this.session.getScreenLastRowColumn(e));this.drawSingleLineMarker(c,j,a,d,1);e=b.end.row;j=new h(e,0,e,b.end.column);this.drawSingleLineMarker(c,j,a,d);for(e=b.start.row+1;e<b.end.row;e++)j.start.row=e,j.end.row=e,j.end.column=this.session.getScreenLastRowColumn(e),this.drawSingleLineMarker(c,j,a,d,1)};this.drawMultiLineMarker=function(c,b,a,d){var e=d.lineHeight,h=Math.round(d.width-b.start.column*d.characterWidth),j=this.$getTop(b.start.row,d);c.push("<div class='",a,
"' style='","height:",e,"px;","width:",h,"px;","top:",j,"px;","left:",Math.round(b.start.column*d.characterWidth),"px;'></div>");j=this.$getTop(b.end.row,d);h=Math.round(b.end.column*d.characterWidth);c.push("<div class='",a,"' style='","height:",e,"px;","top:",j,"px;","width:",h,"px;'></div>");e=(b.end.row-b.start.row-1)*d.lineHeight;e<0||(j=this.$getTop(b.start.row+1,d),c.push("<div class='",a,"' style='","height:",e,"px;","width:",d.width,"px;","top:",j,"px;'></div>"))};this.drawSingleLineMarker=
function(c,b,a,d,e){var h=d.lineHeight,e=Math.round((b.end.column+(e||0)-b.start.column)*d.characterWidth),j=this.$getTop(b.start.row,d);c.push("<div class='",a,"' style='","height:",h,"px;","width:",e,"px;","top:",j,"px;","left:",Math.round(b.start.column*d.characterWidth),"px;'></div>")}}).call(j.prototype);d.Marker=j});
defineace("ace/layer/text",["requireace","exports","module","pilot/oop","pilot/dom","pilot/lang","pilot/event_emitter"],function(e,d){var h=e("pilot/oop"),c=e("pilot/dom"),j=e("pilot/lang"),f=e("pilot/event_emitter").EventEmitter,b=function(a){this.element=c.createElement("div");this.element.className="ace_layer ace_text-layer";a.appendChild(this.element);this.$characterSize=this.$measureSizes()||{width:0,height:0};this.$pollSizeChanges()};(function(){h.implement(this,f);this.EOF_CHAR="&para;";this.EOL_CHAR=
"&not;";this.TAB_CHAR="&rarr;";this.SPACE_CHAR="&middot;";this.getLineHeight=function(){return this.$characterSize.height||1};this.getCharacterWidth=function(){return this.$characterSize.width||1};this.checkForSizeChanges=function(){var a=this.$measureSizes();if(a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height))this.$characterSize=a,this._dispatchEvent("changeCharaterSize",{data:a})};this.$pollSizeChanges=function(){var a=this;setInterval(function(){a.checkForSizeChanges()},
500)};this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1};this.$measureSizes=function(){if(!this.$measureNode){var a=this.$measureNode=c.createElement("div"),b=a.style;b.width=b.height="auto";b.left=b.top="-40000px";b.visibility="hidden";b.position="absolute";b.overflow="visible";b.whiteSpace="nowrap";a.innerHTML=j.stringRepeat("Xy",1E3);if(document.body)document.body.appendChild(a);else{for(b=this.element.parentNode;!c.hasCssClass(b,"ace_editor");)b=b.parentNode;b.appendChild(a)}}var b=
this.$measureNode.style,d;for(d in this.$fontStyles)a=c.computedStyle(this.element,d),b[d]=a;d={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/2E3};if(d.width==0&&d.height==0)return null;return d};this.setSession=function(a){this.session=a};this.showInvisibles=!1;this.setShowInvisibles=function(a){if(this.showInvisibles==a)return!1;this.showInvisibles=a;return!0};this.$tabStrings=[];this.$computeTabString=function(){for(var a=this.session.getTabSize(),b=this.$tabStrings=
[0],c=1;c<a+1;c++)this.showInvisibles?b.push("<span class='ace_invisible'>"+this.TAB_CHAR+Array(c).join("&#160;")+"</span>"):b.push(Array(c+1).join("&#160;"))};this.updateLines=function(a,b,d){this.$computeTabString();(this.config.lastRow!=a.lastRow||this.config.firstRow!=a.firstRow)&&this.scrollLines(a);this.config=a;for(var b=Math.max(b,a.firstRow),d=Math.min(d,a.lastRow),e=this.element.childNodes,f=this.session.getTokens(b,d),h=b;h<=d;h++){var g=e[h-a.firstRow];if(g){var j=[];this.$renderLine(j,
h,f[h-b].tokens);g=c.setInnerHtml(g,j.join(""));g.style.height=this.session.getRowHeight(a,h)+"px"}}};this.scrollLines=function(a){this.$computeTabString();var b=this.config;this.config=a;if(!b||b.lastRow<a.firstRow)return this.update(a);if(a.lastRow<b.firstRow)return this.update(a);var c=this.element;if(b.firstRow<a.firstRow)for(var d=b.firstRow;d<a.firstRow;d++)c.removeChild(c.firstChild);if(b.lastRow>a.lastRow)for(d=a.lastRow+1;d<=b.lastRow;d++)c.removeChild(c.lastChild);a.firstRow<b.firstRow&&
(d=this.$renderLinesFragment(a,a.firstRow,b.firstRow-1),c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));a.lastRow>b.lastRow&&(d=this.$renderLinesFragment(a,b.lastRow+1,a.lastRow),c.appendChild(d))};this.$renderLinesFragment=function(a,b,d){for(var e=document.createDocumentFragment(),f=this.session.getTokens(b,d),h=b;h<=d;h++){var g=c.createElement("div");g.className="ace_line";var j=g.style;j.height=this.session.getRowHeight(a,h)+"px";j.width=a.width+"px";j=[];f.length>h-b&&this.$renderLine(j,
h,f[h-b].tokens);g.innerHTML=j.join("");e.appendChild(g)}return e};this.update=function(a){this.$computeTabString();this.config=a;this.session.getTokens(a.firstRow,a.lastRow);a=this.$renderLinesFragment(a,a.firstRow,a.lastRow);this.element.innerHTML="";this.element.appendChild(a)};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderLine=function(a,b,c){function d(b,c){var h=c.replace(/\t|&|<|( +)|([\v\f \u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000])|[\u1100-\u115F]|[\u11A3-\u11A7]|[\u11FA-\u11FF]|[\u2329-\u232A]|[\u2E80-\u2E99]|[\u2E9B-\u2EF3]|[\u2F00-\u2FD5]|[\u2FF0-\u2FFB]|[\u3000-\u303E]|[\u3041-\u3096]|[\u3099-\u30FF]|[\u3105-\u312D]|[\u3131-\u318E]|[\u3190-\u31BA]|[\u31C0-\u31E3]|[\u31F0-\u321E]|[\u3220-\u3247]|[\u3250-\u32FE]|[\u3300-\u4DBF]|[\u4E00-\uA48C]|[\uA490-\uA4C6]|[\uA960-\uA97C]|[\uAC00-\uD7A3]|[\uD7B0-\uD7C6]|[\uD7CB-\uD7FB]|[\uF900-\uFAFF]|[\uFE10-\uFE19]|[\uFE30-\uFE52]|[\uFE54-\uFE66]|[\uFE68-\uFE6B]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g,
function(a,b,c,d){return a.charCodeAt(0)==32?Array(a.length+1).join("&#160;"):a=="\t"?(a=e.session.getScreenTabSize(g+d),g+=a-1,e.$tabStrings[a]):a=="&"?"&amp":a=="<"?"&lt;":a.match(/[\v\f \u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000]/)?this.showInvisibles?"<span class='ace_invisible'>"+Array(a.length+1).join(self.SPACE_CHAR)+"</span>":"&#160;":(g+=1,"<span class='ace_cjk' style='width:"+f*2+"px'>"+a+"</span>")});g+=c.length;if(e.$textToken[b.type])a.push(h);
else{var j="ace_"+b.type.replace(/\./g," ace_");a.push("<span class='",j,"'>",h,"</span>")}}var e=this,f=this.config.characterWidth,g=0,h=this.session.getRowSplitData(b),j=0,s=0,o;o=!h||h.length==0?Number.MAX_VALUE:h[0];a.push("<div style='height:",this.config.lineHeight,"px","'>");for(var u=0;u<c.length;u++){var v=c[u],r=v.value;if(j+r.length<o)d(v,r),j+=r.length;else{for(;j+r.length>=o;)d(v,r.substring(0,o-j)),r=r.substring(o-j),j=o,a.push("</div>","<div style='height:",this.config.lineHeight,"px",
"'>"),s++,g=0,o=h[s]||Number.MAX_VALUE;r.length!=0&&(j+=r.length,d(v,r))}}this.showInvisibles&&(b!==this.session.getLength()-1?a.push("<span class='ace_invisible'>"+this.EOL_CHAR+"</span>"):a.push("<span class='ace_invisible'>"+this.EOF_CHAR+"</span>"));a.push("</div>")}}).call(b.prototype);d.Text=b});
defineace("ace/layer/cursor",["requireace","exports","module","pilot/dom"],function(e,d){var h=e("pilot/dom"),c=function(c){this.element=h.createElement("div");this.element.className="ace_layer ace_cursor-layer";c.appendChild(this.element);this.cursor=h.createElement("div");this.cursor.className="ace_cursor";this.isVisible=!1};(function(){this.setSession=function(c){this.session=c};this.hideCursor=function(){this.isVisible=!1;this.cursor.parentNode&&this.cursor.parentNode.removeChild(this.cursor);
clearInterval(this.blinkId)};this.showCursor=function(){this.isVisible=!0;this.element.appendChild(this.cursor);this.cursor.style.visibility="visible";this.restartTimer()};this.restartTimer=function(){clearInterval(this.blinkId);if(this.isVisible){var c=this.cursor;this.blinkId=setInterval(function(){c.style.visibility="hidden";setTimeout(function(){c.style.visibility="visible"},400)},1E3)}};this.getPixelPosition=function(c){if(!this.config||!this.session)return{left:0,top:0};var d=this.session.documentToScreenPosition(this.session.selection.getCursor());
return{left:Math.round(d.column*this.config.characterWidth),top:(d.row-(c?this.config.firstRowScreen:0))*this.config.lineHeight}};this.update=function(c){this.config=c;this.pixelPos=this.getPixelPosition(!0);this.cursor.style.left=this.pixelPos.left+"px";this.cursor.style.top=this.pixelPos.top+"px";this.cursor.style.width=c.characterWidth+"px";this.cursor.style.height=c.lineHeight+"px";this.isVisible&&this.element.appendChild(this.cursor);this.session.getOverwrite()?h.addCssClass(this.cursor,"ace_overwrite"):
h.removeCssClass(this.cursor,"ace_overwrite");this.restartTimer()}}).call(c.prototype);d.Cursor=c});
defineace("ace/scrollbar",["requireace","exports","module","pilot/oop","pilot/dom","pilot/event","pilot/event_emitter"],function(e,d){var h=e("pilot/oop"),c=e("pilot/dom"),j=e("pilot/event"),f=e("pilot/event_emitter").EventEmitter,b=function(a){this.element=c.createElement("div");this.element.className="ace_sb";this.inner=c.createElement("div");this.element.appendChild(this.inner);a.appendChild(this.element);this.width=c.scrollbarWidth();this.element.style.width=this.width+"px";j.addListener(this.element,
"scroll",this.onScroll.bind(this))};(function(){h.implement(this,f);this.onScroll=function(){this._dispatchEvent("scroll",{data:this.element.scrollTop})};this.getWidth=function(){return this.width};this.setHeight=function(a){this.element.style.height=a+"px"};this.setInnerHeight=function(a){this.inner.style.height=a+"px"};this.setScrollTop=function(a){this.element.scrollTop=a}}).call(b.prototype);d.ScrollBar=b});
defineace("ace/renderloop",["requireace","exports","module","pilot/event"],function(e,d){var h=e("pilot/event"),c=function(c){this.onRender=c;this.pending=!1;this.changes=0};(function(){this.schedule=function(c){this.changes|=c;if(!this.pending){this.pending=!0;var d=this;this.setTimeoutZero(function(){d.pending=!1;var b=d.changes;d.changes=0;d.onRender(b)})}};window.postMessage?(this.messageName="zero-timeout-message",this.setTimeoutZero=function(c){if(!this.attached){var d=this;h.addListener(window,
"message",function(b){d.callback&&b.data==d.messageName&&(h.stopPropagation(b),d.callback())});this.attached=!0}this.callback=c;window.postMessage(this.messageName,"*")}):this.setTimeoutZero=function(c){setTimeout(c,0)}}).call(c.prototype);d.RenderLoop=c});defineace("text/ace/css/editor.css",[],'.ace_editor {    position: absolute;    overflow: hidden;    font-family: "Menlo", "Monaco", "Courier New", monospace;    font-size: 12px;  }.ace_scroller {    position: absolute;    overflow-x: scroll;    overflow-y: hidden;     }.ace_content {    position: absolute;    box-sizing: border-box;    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;}.ace_composition {    position: absolute;    background: #555;    color: #DDD;    z-index: 4;}.ace_gutter {    position: absolute;    overflow-x: hidden;    overflow-y: hidden;    height: 100%;}.ace_gutter-cell.ace_error {    background-image: url("data:image/gif,GIF89a%10%00%10%00%D5%00%00%F5or%F5%87%88%F5nr%F4ns%EBmq%F5z%7F%DDJT%DEKS%DFOW%F1Yc%F2ah%CE(7%CE)8%D18E%DD%40M%F2KZ%EBU%60%F4%60m%DCir%C8%16(%C8%19*%CE%255%F1%3FR%F1%3FS%E6%AB%B5%CA%5DI%CEn%5E%F7%A2%9A%C9G%3E%E0a%5B%F7%89%85%F5yy%F6%82%80%ED%82%80%FF%BF%BF%E3%C4%C4%FF%FF%FF%FF%FF%FF%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00!%F9%04%01%00%00%25%00%2C%00%00%00%00%10%00%10%00%00%06p%C0%92pH%2C%1A%8F%C8%D2H%93%E1d4%23%E4%88%D3%09mB%1DN%B48%F5%90%40%60%92G%5B%94%20%3E%22%D2%87%24%FA%20%24%C5%06A%00%20%B1%07%02B%A38%89X.v%17%82%11%13q%10%0Fi%24%0F%8B%10%7BD%12%0Ei%09%92%09%0EpD%18%15%24%0A%9Ci%05%0C%18F%18%0B%07%04%01%04%06%A0H%18%12%0D%14%0D%12%A1I%B3%B4%B5IA%00%3B");    background-repeat: no-repeat;    background-position: 4px center;}.ace_gutter-cell.ace_warning {    background-image: url("data:image/gif,GIF89a%10%00%10%00%D5%00%00%FF%DBr%FF%DE%81%FF%E2%8D%FF%E2%8F%FF%E4%96%FF%E3%97%FF%E5%9D%FF%E6%9E%FF%EE%C1%FF%C8Z%FF%CDk%FF%D0s%FF%D4%81%FF%D5%82%FF%D5%83%FF%DC%97%FF%DE%9D%FF%E7%B8%FF%CCl%7BQ%13%80U%15%82W%16%81U%16%89%5B%18%87%5B%18%8C%5E%1A%94d%1D%C5%83-%C9%87%2F%C6%84.%C6%85.%CD%8B2%C9%871%CB%8A3%CD%8B5%DC%98%3F%DF%9BB%E0%9CC%E1%A5U%CB%871%CF%8B5%D1%8D6%DB%97%40%DF%9AB%DD%99B%E3%B0p%E7%CC%AE%FF%FF%FF%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00!%F9%04%01%00%00%2F%00%2C%00%00%00%00%10%00%10%00%00%06a%C0%97pH%2C%1A%8FH%A1%ABTr%25%87%2B%04%82%F4%7C%B9X%91%08%CB%99%1C!%26%13%84*iJ9(%15G%CA%84%14%01%1A%97%0C%03%80%3A%9A%3E%81%84%3E%11%08%B1%8B%20%02%12%0F%18%1A%0F%0A%03\'F%1C%04%0B%10%16%18%10%0B%05%1CF%1D-%06%07%9A%9A-%1EG%1B%A0%A1%A0U%A4%A5%A6BA%00%3B");    background-repeat: no-repeat;    background-position: 4px center;}.ace_editor .ace_sb {    position: absolute;    overflow-x: hidden;    overflow-y: scroll;    right: 0;}.ace_editor .ace_sb div {    position: absolute;    width: 1px;    left: 0;}.ace_editor .ace_print_margin_layer {    z-index: 0;    position: absolute;    overflow: hidden;    margin: 0;    left: 0;    height: 100%;    width: 100%;}.ace_editor .ace_print_margin {    position: absolute;    height: 100%;}.ace_editor textarea {    position: fixed;    z-index: -1;    width: 10px;    height: 30px;    opacity: 0;    background: transparent;    appearance: none;    border: none;    resize: none;    outline: none;    overflow: hidden;}.ace_layer {    z-index: 1;    position: absolute;    overflow: hidden;      white-space: nowrap;    height: 100%;    width: 100%;}.ace_text-layer {    font-family: Monaco, "Courier New", monospace;    color: black;}.ace_cjk {    display: inline-block;    text-align: center;}.ace_cursor-layer {    z-index: 4;    cursor: text;    pointer-events: none;}.ace_cursor {    z-index: 4;    position: absolute;}.ace_line {    white-space: nowrap;}.ace_marker-layer {    cursor: text;}.ace_marker-layer .ace_step {    position: absolute;    z-index: 3;}.ace_marker-layer .ace_selection {    position: absolute;    z-index: 4;}.ace_marker-layer .ace_bracket {    position: absolute;    z-index: 5;}.ace_marker-layer .ace_active_line {    position: absolute;    z-index: 2;}.ace_marker-layer .ace_selected_word {    position: absolute;    z-index: 6;    box-sizing: border-box;    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;}.ace_dragging .ace_marker-layer, .ace_dragging .ace_text-layer {  cursor: move;}');
defineace("text/styles.css",[],"html {    height: 100%;    overflow: hidden;}body {    overflow: hidden;    margin: 0;    padding: 0;    height: 100%;    width: 100%;    font-family: Arial, Helvetica, sans-serif, Tahoma, Verdana, sans-serif;    font-size: 12px;    background: rgb(14, 98, 165);    color: white;}#editor {    position: absolute;    top: 60px;    left: 0px;    background: white;}#controls {    width: 100%;}#cockpitInput {    position: absolute;    width: 100%;    bottom: 0;    border: none; outline: none;    font-family: consolas, courier, monospace;    font-size: 120%;}#cockpitOutput {    padding: 10px;    margin: 0 15px;    border: 1px solid #AAA;    -moz-border-radius-topleft: 10px;    -moz-border-radius-topright: 10px;    border-top-left-radius: 4px; border-top-right-radius: 4px;    background: #DDD; color: #000;}");
var deps=["pilot/fixoldbrowsers","pilot/index","pilot/plugin_manager","pilot/environment","ace/editor","ace/edit_session","ace/virtual_renderer","ace/undomanager","ace/theme/clouds"];
requireace(deps,function(){var e=requireace("pilot/plugin_manager").catalog;e.registerPlugins(["pilot/index"]);var d=requireace("pilot/dom"),h=requireace("pilot/event"),c=requireace("ace/editor").Editor,j=requireace("ace/edit_session").EditSession,f=requireace("ace/undomanager").UndoManager,b=requireace("ace/virtual_renderer").VirtualRenderer;window.ace={edit:function(a){typeof a=="string"&&(a=document.getElementById(a));var k=new j(d.getInnerText(a));k.setUndoManager(new f);a.innerHTML="";var n=
new c(new b(a,"ace/theme/clouds"));n.setSession(k);var p=requireace("pilot/environment").create();e.startupPlugins({env:p}).then(function(){p.document=k;p.editor=n;n.resize();h.addListener(window,"resize",function(){n.resize()});a.env=p});n.env=p;return n}}});